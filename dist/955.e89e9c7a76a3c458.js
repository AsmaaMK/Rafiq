"use strict";(self.webpackChunkRafiq=self.webpackChunkRafiq||[]).push([[955],{4955:(N,k,p)=>{p.r(k),p.d(k,{MainModule:()=>At});var f=p(9808),e=p(8588),_=p(2382),t=p(1223),y=p(2469),T=p(6082),M=p(4611),w=p(3372),O=p(1135);let x=(()=>{class o{constructor(){this.notificationIsShown=new O.X(!1)}toggleNotificationView(){this.notificationIsShown.next(!this.notificationIsShown.value)}closeNotification(){!0===this.notificationIsShown.value&&this.notificationIsShown.next(!1)}isOpen(){return this.notificationIsShown.value}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),g=(()=>{class o{constructor(){}ngOnInit(){this.possissionNoficationIndicator()}possissionNoficationIndicator(){const n=document.getElementById("notification-btn"),s=document.querySelector(".notification-container"),a=document.querySelector(".notification-indicator"),d=document.body.getBoundingClientRect().width;if(d>=800){let m=0,b=0;n&&a&&(m=n.getBoundingClientRect().top-17,b=2*n.getBoundingClientRect().width),a&&s&&(a.style.top=m.toString()+"px",s.style.left=b.toString()+"px")}else{let m=0;n&&(m=n.getBoundingClientRect().left-.025*d),a&&(a.style.left=m.toString()+"px")}}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275dir=t.lG2({type:o,selectors:[["","appPossissionNotification",""]]}),o})();const h=function(o){return{visited:o}};function Z(o,l){if(1&o&&(t.TgZ(0,"a",9),t.TgZ(1,"div",10),t._UZ(2,"img",11),t.qZA(),t.TgZ(3,"div",12),t.TgZ(4,"p",3),t._uU(5),t.qZA(),t.TgZ(6,"p",13),t._uU(7),t.qZA(),t.TgZ(8,"p",14),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"button",15),t._UZ(11,"img",16),t.qZA(),t.qZA()),2&o){const n=l.$implicit;t.Q6J("routerLink",n.link)("ngClass",t.VKq(6,h,n.visited)),t.xp6(2),t.Q6J("src",n.avatar||"assets/main-module/profile/default-personal-image.svg",t.LSH),t.xp6(3),t.Oqu(n.title),t.xp6(2),t.Oqu(n.description),t.xp6(2),t.Oqu(n.date)}}const S=function(o){return{off:o}};function I(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"p",3),t._uU(3,"Notifications"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){return t.CHM(n),t.oxw().toggleNotifications()}),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t.YNc(9,Z,12,8,"a",7),t.qZA(),t.qZA(),t._UZ(10,"div",8),t.qZA()}if(2&o){const n=t.oxw();t.xp6(4),t.Q6J("ngClass",t.VKq(3,S,!1===n.notificationsOn)),t.xp6(2),t.Oqu(n.notificationsOn?"ON":"OFF"),t.xp6(3),t.Q6J("ngForOf",n.notifications)}}let q=(()=>{class o{constructor(n){this.notificationService=n,this.notificationsOn=!0,this.notifications=[{id:1,title:"New Post",description:"Lorem ipsum dolor sit amet consectetur adipisicing elit.",date:"2020-01-01 4:00 PM",avatar:"",visited:!1,link:"/app/profile/aaa"},{id:1,title:"New Post",description:"New post is created",date:"2020-01-01 4:00 PM",avatar:"",visited:!1,link:"/app/profile/2"},{id:1,title:"New Post",description:"New post is created",date:"2020-01-01 4:00 PM",avatar:"",visited:!1,link:"/app/profile/amrma"},{id:1,title:"New Post",description:"New post is created",date:"2020-01-01 4:00 PM",avatar:"",visited:!0,link:"/app/city/1"},{id:1,title:"New Post",description:"New post is created",date:"2020-01-01 4:00 PM",avatar:"",visited:!0,link:"/app/profile/asmaamk"}]}ngOnInit(){this.notificationService.notificationIsShown.subscribe(n=>{this.show=n})}toggleNotifications(){this.notificationsOn=!this.notificationsOn}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-notification"]],decls:1,vars:1,consts:[["appPossissionNotification","","class","notification-container",4,"ngIf"],["appPossissionNotification","",1,"notification-container"],[1,"header"],[1,"title"],[1,"turn-on-off-btn",3,"ngClass","click"],[1,"content"],[1,"notifications"],["class","notification",3,"routerLink","ngClass",4,"ngFor","ngForOf"],[1,"notification-indicator"],[1,"notification",3,"routerLink","ngClass"],[1,"notification__avatar"],["alt","",3,"src"],[1,"notification__content"],[1,"description"],[1,"date"],[1,"notification__delete-btn"],["src","../../../../../assets/main-module/Close.svg","alt",""]],template:function(n,s){1&n&&t.YNc(0,I,11,5,"div",0),2&n&&t.Q6J("ngIf",s.show)},directives:[f.O5,g,f.mk,f.sg,e.yS],styles:['.notification-container[_ngcontent-%COMP%]{position:fixed;width:95%;left:2.5%;top:3.5rem;bottom:4.5rem;z-index:60;background-color:#c6c5d9;border-radius:1rem}@media (min-width: 800px){.notification-container[_ngcontent-%COMP%]{height:50rem;max-height:90vh;width:30rem;top:15px;left:80px;box-shadow:3px 3px 2px #c6c5d9}}.notification-container[_ngcontent-%COMP%]   .notification-indicator[_ngcontent-%COMP%]{width:50px;height:50px;position:absolute;z-index:60;left:-25px;background-color:#c6c5d9;border-radius:0 .25rem;transform:rotate(45deg);pointer-events:none}@media (max-width: 800px){.notification-container[_ngcontent-%COMP%]   .notification-indicator[_ngcontent-%COMP%]{width:40px;height:40px;bottom:-20px;border-radius:.25rem 0}}.notification-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;width:100%;height:calc(92% - 2rem);position:relative;z-index:70;border-radius:1rem;padding-left:1.5rem;padding-right:1.5rem;margin-top:.5rem;margin-bottom:.5rem}.notification-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:8%;padding:.5rem 1.5rem 0;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.notification-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p.title[_ngcontent-%COMP%]{color:#5b618a;font-size:1.8rem;margin:0;font-weight:500}.notification-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .turn-on-off-btn[_ngcontent-%COMP%]{height:1.5rem;border-radius:50px;padding:.25rem;background-color:#5b618a;position:relative;transition:all .3s ease-in-out}.notification-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .turn-on-off-btn[_ngcontent-%COMP%]:before{content:"";position:absolute;border-radius:50%;width:1rem;height:1rem;background-color:#e8deeb;right:.25rem;top:50%;transform:translateY(-50%);transition:all .3s ease-in-out}.notification-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .turn-on-off-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.96rem;color:#e8deeb;margin-right:1.25rem;transition:all .3s ease-in-out}.notification-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .turn-on-off-btn.off[_ngcontent-%COMP%]{background-color:#e8deeb}.notification-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .turn-on-off-btn.off[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:0;margin-left:1.25rem;color:#5b618a}.notification-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .turn-on-off-btn.off[_ngcontent-%COMP%]:before{background-color:#5b618a;right:calc(100% - 1.25rem)}.notification-container[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:stretch;gap:1rem}.notification-container[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{padding:.5rem;position:relative;background-color:#e8deeb80;border-radius:1rem;text-decoration:none;transition:background-color .2s ease-in-out;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.notification-container[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]   .notification.visited[_ngcontent-%COMP%]{background-color:#e8deeb33;opacity:.9}.notification-container[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]:hover{background-color:#e8deebb3}.notification-container[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]   .notification__avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:1rem;background-color:#e8deeb;margin-right:1rem;overflow:hidden}.notification-container[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]   .notification__avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.notification-container[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]   .notification__content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:stretch}.notification-container[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]   .notification__content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:#5b618a;margin:0}.notification-container[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]   .notification__content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.96rem;color:#5b618a;margin:0;padding-right:1.8rem;padding-bottom:.35rem}.notification-container[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]   .notification__content[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:.84rem;color:#5b618a;font-weight:500;margin:0 0 0 auto}.notification-container[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]   .notification__delete-btn[_ngcontent-%COMP%]{position:absolute;background-color:#5b618a;width:1.25rem;height:1.25rem;right:.5rem;top:.5rem;border-radius:50%;padding:.3rem}']}),o})();var D=p(629);const z=function(){return["./search"]},F=function(o){return["./profile",o]},U=function(){return["./home"]},B=function(){return["./trip"]};let Y=(()=>{class o{constructor(n,s,a){this.notificationService=n,this.authService=s,this.userInfoService=a}ngOnInit(){}logout(){this.authService.logoutUser()}toggleNotificationView(){this.notificationService.toggleNotificationView()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(x),t.Y36(D.e),t.Y36(y.$))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-desktop-navbar"]],decls:38,vars:9,consts:[["aria-label","navigation links"],["routerLinkActive","active","aria-label","search",3,"routerLink"],[0,"xlink","href","#search-icon"],["id","notification-btn","aria-label","notifications",3,"click"],[0,"xlink","href","#notification-icon"],["routerLinkActive","active","aria-label","profile",3,"routerLink"],[0,"xlink","href","#profile-icon"],["routerLinkActive","active","aria-label","home",3,"routerLink"],[0,"xlink","href","#home-icon"],["routerLinkActive","active","aria-label","trip",3,"routerLink"],[0,"xlink","href","#trip-icon"],[1,"logout"],["aria-label","logout",3,"click"],[0,"xlink","href","#logout-icon"],["xmlns","http://www.w3.org/2000/svg","aria-hidden","true",2,"display","none"],["id","search-icon","viewBox","0 0 24 24","width","100%","height","100%"],["d","M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z","fill","#5b618a"],["id","notification-icon","viewBox","0 0 24 24","width","100%","height","100%"],["d","M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z","fill","currentColor","stroke","#5b618a","stroke-width","1.2"],["id","profile-icon","viewBox","0 0 24 24","width","100%","height","100%"],["d","M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z","fill","currentColor","stroke","#5b618a","stroke-width","1.2"],["id","home-icon","viewBox","0 0 24 24","width","100%","height","100%"],["d","M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z","fill","currentColor","stroke","#5b618a","stroke-width","1.2"],["id","trip-icon","viewBox","0 0 24 24","width","100%","height","100%"],["d","M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z","transform","rotate(-45)","transform-origin","50% 50%","fill","currentColor","stroke","#5b618a","stroke-width","1.2"],["id","logout-icon","viewBox","0 0 24 24","width","100%","height","100%"],["d","M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z","transform","rotate(180)","transform-origin","50% 50%","fill","#5b618a"]],template:function(n,s){1&n&&(t.TgZ(0,"ul",0),t.TgZ(1,"li"),t.TgZ(2,"a",1),t.O4$(),t.TgZ(3,"svg"),t._UZ(4,"use",2),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(5,"li"),t.TgZ(6,"button",3),t.NdJ("click",function(){return s.toggleNotificationView()}),t.O4$(),t.TgZ(7,"svg"),t._UZ(8,"use",4),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(9,"li"),t.TgZ(10,"a",5),t.O4$(),t.TgZ(11,"svg"),t._UZ(12,"use",6),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(13,"li"),t.TgZ(14,"a",7),t.O4$(),t.TgZ(15,"svg"),t._UZ(16,"use",8),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(17,"li"),t.TgZ(18,"a",9),t.O4$(),t.TgZ(19,"svg"),t._UZ(20,"use",10),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(21,"li",11),t.TgZ(22,"button",12),t.NdJ("click",function(){return s.logout()}),t.O4$(),t.TgZ(23,"svg"),t._UZ(24,"use",13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"svg",14),t.TgZ(26,"symbol",15),t._UZ(27,"path",16),t.qZA(),t.TgZ(28,"symbol",17),t._UZ(29,"path",18),t.qZA(),t.TgZ(30,"symbol",19),t._UZ(31,"path",20),t.qZA(),t.TgZ(32,"symbol",21),t._UZ(33,"path",22),t.qZA(),t.TgZ(34,"symbol",23),t._UZ(35,"path",24),t.qZA(),t.TgZ(36,"symbol",25),t._UZ(37,"path",26),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Q6J("routerLink",t.DdM(4,z)),t.xp6(8),t.Q6J("routerLink",t.VKq(5,F,s.userInfoService.myUserName.value)),t.xp6(4),t.Q6J("routerLink",t.DdM(7,U)),t.xp6(4),t.Q6J("routerLink",t.DdM(8,B)))},directives:[e.yS,e.Od],styles:["ul[_ngcontent-%COMP%]{list-style:none;height:100%;padding:1em 0;margin:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-top:1em;padding-bottom:1em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer;width:2.5rem;height:2.5rem;color:transparent;transition:all .3s ease-in-out}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{color:#5b618a99}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#5b618a;filter:drop-shadow(0 1px 4px rgba(91,97,138,.5))}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus   svg[_ngcontent-%COMP%]{border:2px solid #5B618A;border-radius:.5em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:not(:focus-visible)   svg[_ngcontent-%COMP%]{border:none;border-radius:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border:0;background-color:transparent}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   svg[_ngcontent-%COMP%]{border:2px solid #5B618A;border-radius:.5em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus:not(:focus-visible)   svg[_ngcontent-%COMP%]{border:none;border-radius:none}ul[_ngcontent-%COMP%]   li.logout[_ngcontent-%COMP%]{margin-top:auto}"]}),o})();const H=function(){return["./search"]};let V=(()=>{class o{constructor(n){this.auhtService=n}ngOnInit(){}logout(){this.auhtService.logoutUser()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(D.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mobile-header"]],decls:14,vars:2,consts:[[1,"search-field"],["routerLinkActive","active","aria-label","search",3,"routerLink"],[0,"xlink","href","#search-icon"],[1,"logout-btn"],["aria-label","logout",3,"click"],["href","#logout-icon"],["xmlns","http://www.w3.org/2000/svg","aria-hidden","true",2,"display","none"],["id","search-icon","viewBox","0 0 24 24","width","100%","height","100%"],["d","M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z","fill","#5b618a"],["id","logout-icon","viewBox","0 0 24 24","width","100%","height","100%"],["d","M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z","transform-origin","50% 50%","fill","#5b618a"]],template:function(n,s){1&n&&(t.TgZ(0,"ul"),t.TgZ(1,"li",0),t.TgZ(2,"a",1),t.O4$(),t.TgZ(3,"svg"),t._UZ(4,"use",2),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(5,"li",3),t.TgZ(6,"button",4),t.NdJ("click",function(){return s.logout()}),t.O4$(),t.TgZ(7,"svg"),t._UZ(8,"use",5),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"svg",6),t.TgZ(10,"symbol",7),t._UZ(11,"path",8),t.qZA(),t.TgZ(12,"symbol",9),t._UZ(13,"path",10),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Q6J("routerLink",t.DdM(1,H)))},directives:[e.yS,e.Od],styles:["ul[_ngcontent-%COMP%]{list-style:none;height:100%;padding:0 1em;margin:0;display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:2em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer;width:2.3em;height:2.3em;color:transparent;transition:all .3s ease-in-out}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border:0;background-color:transparent;display:flex;flex-direction:column;justify-content:center;align-items:center}ul[_ngcontent-%COMP%]   li.search-field[_ngcontent-%COMP%]{flex:1;max-width:400px}ul[_ngcontent-%COMP%]   li.search-field[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;width:100%}ul[_ngcontent-%COMP%]   li.search-field[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1.08rem;border:.1rem solid #5B618A;border-radius:.3em;padding:.4em .4em .4em 2em;color:#5b618a;width:100%}ul[_ngcontent-%COMP%]   li.search-field[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;left:.4em;top:50%;transform:translateY(-50%)}ul[_ngcontent-%COMP%]   li.search-field[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.84em;height:1.84em}"]}),o})();const j=function(o){return["./profile",o]},R=function(){return["./home"]},W=function(){return["./trip"]};let L=(()=>{class o{constructor(n,s){this.notificationService=n,this.userInfoService=s,this.username=this.userInfoService.myUserName.value}ngOnInit(){}toggleNotificationView(){this.notificationService.toggleNotificationView()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(x),t.Y36(y.$))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mobile-navbar"]],decls:28,vars:7,consts:[["aria-label","navigation links"],["routerLinkActive","active","aria-label","profile",3,"routerLink"],[0,"xlink","href","#profile-icon"],["routerLinkActive","active","aria-label","home",3,"routerLink"],[0,"xlink","href","#home-icon"],["routerLinkActive","active","aria-label","trip",3,"routerLink"],[0,"xlink","href","#trip-icon"],["id","notification-btn","routerLinkActive","active",3,"click"],[0,"xlink","href","#notification-icon"],["xmlns","http://www.w3.org/2000/svg","aria-hidden","true",2,"display","none"],["id","profile-icon","viewBox","0 0 24 24","width","100%","height","100%"],["d","M0 0h24v24H0z","fill","none"],["d","M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z","fill","currentColor","stroke","#5b618a","stroke-width","1.2"],["id","home-icon","viewBox","0 0 24 24","width","100%","height","100%"],["d","M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z","fill","currentColor","stroke","#5b618a","stroke-width","1.2"],["id","trip-icon","viewBox","0 0 24 24","width","100%","height","100%"],["d","M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z","transform","rotate(-45)","transform-origin","50% 50%","fill","currentColor","stroke","#5b618a","stroke-width","1.2"],["id","notification-icon","viewBox","0 0 24 24","width","100%","height","100%"],["d","M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z","fill","currentColor","stroke","#5b618a","stroke-width","1.2"]],template:function(n,s){1&n&&(t.TgZ(0,"ul",0),t.TgZ(1,"li"),t.TgZ(2,"a",1),t.O4$(),t.TgZ(3,"svg"),t._UZ(4,"use",2),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(5,"li"),t.TgZ(6,"a",3),t.O4$(),t.TgZ(7,"svg"),t._UZ(8,"use",4),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(9,"li"),t.TgZ(10,"a",5),t.O4$(),t.TgZ(11,"svg"),t._UZ(12,"use",6),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(13,"li"),t.TgZ(14,"a",7),t.NdJ("click",function(){return s.toggleNotificationView()}),t.O4$(),t.TgZ(15,"svg"),t._UZ(16,"use",8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"svg",9),t.TgZ(18,"symbol",10),t._UZ(19,"path",11),t._UZ(20,"path",12),t.qZA(),t.TgZ(21,"symbol",13),t._UZ(22,"path",14),t.qZA(),t.TgZ(23,"symbol",15),t._UZ(24,"path",11),t._UZ(25,"path",16),t.qZA(),t.TgZ(26,"symbol",17),t._UZ(27,"path",18),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Q6J("routerLink",t.VKq(3,j,s.username)),t.xp6(4),t.Q6J("routerLink",t.DdM(5,R)),t.xp6(4),t.Q6J("routerLink",t.DdM(6,W)))},directives:[e.yS,e.Od],styles:["ul[_ngcontent-%COMP%]{list-style:none;height:100%;padding:1em 0;margin:0;display:flex;flex-direction:row;justify-content:space-around;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-top:1em;padding-bottom:1em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer;width:2.5rem;height:2.5rem;color:transparent;transition:all .3s ease-in-out}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#5b618a;filter:drop-shadow(0 1px 4px rgba(91,97,138,.5))}"]}),o})();function G(o,l){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",29),t.TgZ(2,"nav",30),t._UZ(3,"app-desktop-navbar"),t.qZA(),t.TgZ(4,"main",31),t._UZ(5,"router-outlet"),t.TgZ(6,"button",32),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(),d=t.MAs(6);return a.openPopup(d)}),t.O4$(),t.TgZ(7,"svg"),t._UZ(8,"use",33),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}}function K(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div",34),t.TgZ(1,"header",35),t._UZ(2,"app-mobile-header"),t.qZA(),t.TgZ(3,"main",36),t._UZ(4,"router-outlet"),t.TgZ(5,"button",32),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(),d=t.MAs(6);return a.openPopup(d)}),t.O4$(),t.TgZ(6,"svg"),t._UZ(7,"use",33),t.qZA(),t.qZA(),t.qZA(),t.kcU(),t.TgZ(8,"nav",37),t._UZ(9,"app-mobile-navbar"),t.qZA(),t.qZA()}}function X(o,l){1&o&&t._UZ(0,"img",10),2&o&&t.Q6J("src",l.$implicit,t.LSH)}function tt(o,l){if(1&o&&(t.TgZ(0,"div",38),t.YNc(1,X,1,1,"img",39),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.images)}}function et(o,l){if(1&o&&(t.TgZ(0,"div",40),t._UZ(1,"video",41),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("src",n.video,t.LSH)}}const J=function(o){return{disabled:o}};let nt=(()=>{class o{constructor(n,s,a){this.userInfoService=n,this.postService=s,this.toasterService=a,this.screenWidth=window.innerWidth,this.images=[],this.video="",this.myInfo=this.userInfoService.myInfo,this.postData=new FormData,this.creatingPost=!1}onResize(){this.screenWidth=window.innerWidth,this.possitionAddPostButton()}ngOnInit(){this.userInfoService.getUserProfile(this.userInfoService.myUserName.value).subscribe(n=>{this.userInfoService.myInfo.next(n)}),this.postDataForm=new _.cw({images:new _.NI(""),video:new _.NI(""),text:new _.NI("")}),this.listenToBodyClicks()}ngAfterViewInit(){this.possitionAddPostButton()}possitionAddPostButton(){const n=document.getElementsByTagName("main")[0];if(n){const s=n.getBoundingClientRect().right,a=document.body.getBoundingClientRect().width,d=document.querySelector(".add-post-btn");d&&(d.style.right=(a-s+40).toString()+"px")}}openPopup(n){n.classList.add("open")}closePopup(n){n.classList.remove("open")}addMention(){const n=document.getElementById("post-text");n&&(n.innerText=n.innerText+"@")}addVideos(n){let s=n.target.files[0],a=new FileReader;a.onload=d=>{this.video=d.target.result,this.postData.append("post",s,s.name)},a.readAsDataURL(s)}addImages(n){if(n.target.files&&n.target.files[0]){let s=n.target.files.length;for(let a=0;a<s;a++){let d=new FileReader,m=n.target.files[a];d.onload=b=>{this.images.push(b.target.result),this.postData.append("post",m,m.name)},d.readAsDataURL(m)}}}createPost(n,s){this.toasterService.showToaster("uploading","uploading post files"),this.closePopup(s),this.postData.append("text",n.value),this.postService.createPost(this.postData).subscribe(a=>{this.toasterService.showToaster("success","Post created successfully"),this.postData.forEach((d,m,b)=>{this.postData.delete(m)})},a=>{this.toasterService.showToaster("error","Failed to create this post"),this.postData.forEach((d,m,b)=>{this.postData.delete(m)})})}listenToBodyClicks(){document.addEventListener("click",n=>{n.target.closest(".notification-container")})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(y.$),t.Y36(T.L),t.Y36(M.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-main"]],hostBindings:function(n,s){1&n&&t.NdJ("resize",function(d){return s.onResize(d)},!1,t.Jf7)},decls:34,vars:15,consts:[[3,"show"],[4,"ngIf","ngIfElse"],["mobileLayout",""],["id","add-post-popup",1,"overlay-wrapper"],["addPostPopup",""],[1,"pop-up","add-post",3,"formGroup"],[1,"close-btn",3,"click"],["src","../../../assets/main-module/Close.svg","alt",""],[1,"user-info"],[1,"user-avatar"],["alt","",3,"src"],["id","post-text","placeholder","add text...","formControlName","text"],["postText",""],["class","media-images",4,"ngIf"],["class","media-video",4,"ngIf"],[1,"add-media"],["for","add-video-input",3,"ngClass"],["src","../../../assets/main-module/add-video.svg","alt","add video"],["type","file","id","add-video-input","formControlName","video","hidden","",3,"change"],["videoFile",""],["for","add-image-input",3,"ngClass"],["src","../../../assets/main-module/add-image.svg","alt","add image"],["type","file","id","add-image-input","hidden","","multiple","","formControlName","images",3,"change"],["imagesFiles",""],[1,"post-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["id","add-post-icon","viewBox","0 0 24 24"],["d","M0 0h24v24H0z","fill","none"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z","fill","currentColor"],[1,"desktop-container"],[1,"desktop-navbar"],[1,"desktop-main"],["aria-label","add post",1,"add-post-btn",3,"click"],[0,"xlink","href","#add-post-icon"],[1,"mobile-container"],[1,"mobile-header"],[1,"mobile-main"],[1,"mobile-navbar"],[1,"media-images"],["alt","",3,"src",4,"ngFor","ngForOf"],[1,"media-video"],[3,"src"]],template:function(n,s){if(1&n){const a=t.EpF();t._UZ(0,"app-loading-spinner",0),t._UZ(1,"app-notification"),t.YNc(2,G,9,0,"ng-container",1),t.YNc(3,K,10,0,"ng-template",null,2,t.W1O),t.TgZ(5,"div",3,4),t.TgZ(7,"form",5),t.TgZ(8,"button",6),t.NdJ("click",function(){t.CHM(a);const m=t.MAs(6);return s.closePopup(m)}),t._UZ(9,"img",7),t.qZA(),t.TgZ(10,"div",8),t.TgZ(11,"div",9),t._UZ(12,"img",10),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA(),t.qZA(),t._UZ(15,"textarea",11,12),t.YNc(17,tt,2,1,"div",13),t.YNc(18,et,2,1,"div",14),t.TgZ(19,"div",15),t.TgZ(20,"label",16),t._UZ(21,"img",17),t.qZA(),t.TgZ(22,"input",18,19),t.NdJ("change",function(m){return s.addVideos(m)}),t.qZA(),t.TgZ(24,"label",20),t._UZ(25,"img",21),t.qZA(),t.TgZ(26,"input",22,23),t.NdJ("change",function(m){return s.addImages(m)}),t.qZA(),t.qZA(),t.TgZ(28,"button",24),t.NdJ("click",function(){t.CHM(a);const m=t.MAs(16),b=t.MAs(6);return s.createPost(m,b)}),t._uU(29," Post "),t.qZA(),t.qZA(),t.qZA(),t.O4$(),t.TgZ(30,"svg",25),t.TgZ(31,"symbol",26),t._UZ(32,"path",27),t._UZ(33,"path",28),t.qZA(),t.qZA()}if(2&n){const a=t.MAs(4);t.Q6J("show",s.creatingPost),t.xp6(2),t.Q6J("ngIf",s.screenWidth>=800)("ngIfElse",a),t.xp6(5),t.Q6J("formGroup",s.postDataForm),t.xp6(5),t.Q6J("src",s.myInfo.value.avatar,t.LSH),t.xp6(2),t.AsE("",s.myInfo.value.firstName," ",s.myInfo.value.lastName,""),t.xp6(3),t.Q6J("ngIf",s.images),t.xp6(1),t.Q6J("ngIf",s.video),t.xp6(2),t.Q6J("ngClass",t.VKq(11,J,s.video||s.images.length)),t.xp6(4),t.Q6J("ngClass",t.VKq(13,J,s.video))}},directives:[w.g,q,f.O5,Y,e.lC,V,L,_._Y,_.JL,_.sg,_.Fj,_.JJ,_.u,f.sg,f.mk],styles:[".overlay-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:0;transform:scale(0);z-index:70;height:100vh;width:100%;background-color:#5b618ab3}.overlay-wrapper.open[_ngcontent-%COMP%]{transform:scale(1)}.overlay-wrapper.open[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.overlay-wrapper[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(.3);background-color:#e8deeb;border-radius:1em;background-attachment:fixed;background-image:linear-gradient(180deg,#e8deeb 0%,#e3cce9 0%,#6e75a06e 0%,#e3cce9b5 83%,#e8deeb 100%);transition:all .3s ease-in-out}@media (max-width: 800px){.overlay-wrapper[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]{width:90%}}.overlay-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;right:-1em;top:-1em;background-color:#5b618a;padding:1em;width:3.5rem;height:3.5rem;border-radius:50%;border:.2rem solid rgba(198,197,217,.5)}.overlay-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin:auto}@media (min-width: 1200px){.overlay-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%}}form.add-post.pop-up[_ngcontent-%COMP%]{width:50vw;max-width:700px;min-height:300px}form.add-post[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding:1rem 1.5rem}@media (min-width: 800px){form.add-post[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{padding:1rem 3rem}}form.add-post[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;border:2px solid #5B618A;border-radius:1em;background-color:#e8deeb;overflow:hidden}form.add-post[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;margin:auto}form.add-post[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5b618a;font-weight:500;font-size:1.44rem;margin-left:1em}form.add-post[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;width:calc(100% - 3rem);min-height:100px;max-height:300px;margin-left:1.5rem;margin-right:1.5rem;border:none;outline:none;padding:1em;border-radius:1em;overflow:hidden;font-size:1.2rem;color:#5b618a}@media (min-width: 800px){form.add-post[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:calc(100% - 6rem);margin-left:3rem;margin-right:3rem}}form.add-post[_ngcontent-%COMP%]   .add-media[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center;gap:1rem;margin:1rem 1.5rem}@media (min-width: 800px){form.add-post[_ngcontent-%COMP%]   .add-media[_ngcontent-%COMP%]{margin:1rem 3rem}}form.add-post[_ngcontent-%COMP%]   .add-media[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0}form.add-post[_ngcontent-%COMP%]   .add-media[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], form.add-post[_ngcontent-%COMP%]   .add-media[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:transparent;cursor:pointer}form.add-post[_ngcontent-%COMP%]   .add-media[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], form.add-post[_ngcontent-%COMP%]   .add-media[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem}form.add-post[_ngcontent-%COMP%]   .add-media[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%], form.add-post[_ngcontent-%COMP%]   .add-media[_ngcontent-%COMP%]   label.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}form.add-post[_ngcontent-%COMP%]   .post-btn[_ngcontent-%COMP%]{background-color:#5b618a;font-size:1.8rem;color:#e8deeb;padding:.35em 1.5em;border-radius:.25em;font-weight:500;margin:1.5em auto;display:block;box-shadow:0 3px 9px #575d85ba}form.add-post[_ngcontent-%COMP%]   .media-images[_ngcontent-%COMP%], form.add-post[_ngcontent-%COMP%]   .media-video[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:1em;margin:1rem 1.5rem}@media (min-width: 800px){form.add-post[_ngcontent-%COMP%]   .media-images[_ngcontent-%COMP%], form.add-post[_ngcontent-%COMP%]   .media-video[_ngcontent-%COMP%]{margin:1rem 3rem}}form.add-post[_ngcontent-%COMP%]   .media-images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], form.add-post[_ngcontent-%COMP%]   .media-images[_ngcontent-%COMP%]   video[_ngcontent-%COMP%], form.add-post[_ngcontent-%COMP%]   .media-video[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], form.add-post[_ngcontent-%COMP%]   .media-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:15%}.desktop-container[_ngcontent-%COMP%]{background-color:#ebebeb;min-height:100vh}.desktop-container[_ngcontent-%COMP%]   .desktop-navbar[_ngcontent-%COMP%]{position:fixed;width:3.5rem;top:0;bottom:0;background-color:#e8deeb;background-attachment:fixed;background-image:linear-gradient(180deg,#e8deeb 0%,#e3cce9 0%,#6e75a06e 0%,#e3cce9b5 83%,#e8deeb 100%)}.desktop-container[_ngcontent-%COMP%]   .desktop-main[_ngcontent-%COMP%]{width:min(1200px,80vw);margin-left:calc((3.5rem + 100vw - min(1200px,80vw))/2)}.mobile-container[_ngcontent-%COMP%]{background-color:#ebebeb;min-height:100vh}.mobile-container[_ngcontent-%COMP%]   .mobile-header[_ngcontent-%COMP%]{position:fixed;z-index:50;top:0;left:0;right:0;height:3rem;background-color:#c6c5d999;-webkit-backdrop-filter:blur(38px);backdrop-filter:blur(38px)}.mobile-container[_ngcontent-%COMP%]   .mobile-main[_ngcontent-%COMP%]{margin:auto;margin-top:3rem;padding-bottom:5em}.mobile-container[_ngcontent-%COMP%]   .mobile-navbar[_ngcontent-%COMP%]{position:fixed;z-index:50;bottom:0;left:0;right:0;height:3.5rem;border-top:1.5px solid #5B618A;background-color:#e8deeb;background-attachment:fixed;background-image:linear-gradient(180deg,#e8deeb 0%,#e3cce9 0%,#6e75a06e 0%,#e3cce9b5 83%,#e8deeb 100%)}main[_ngcontent-%COMP%]   .add-post-btn[_ngcontent-%COMP%]{position:fixed;z-index:50;right:1rem;bottom:6rem;background-color:#5b618a;padding:0;border-radius:50%;width:3rem;height:3rem;transition:all .3s ease-in-out;border:.2rem solid transparent}main[_ngcontent-%COMP%]   .add-post-btn[_ngcontent-%COMP%]:hover{background-color:#e8deeb;border-color:#5b618a}@media (min-width: 800px){main[_ngcontent-%COMP%]   .add-post-btn[_ngcontent-%COMP%]{bottom:4rem;width:3.5rem;height:3.5rem}}main[_ngcontent-%COMP%]   .add-post-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:130%;height:100%;color:#e8deeb;transition:all .3s ease-in-out}main[_ngcontent-%COMP%]   .add-post-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{color:#5b618a}.desktop-container[_ngcontent-%COMP%], .mobile-container[_ngcontent-%COMP%]{position:relative}"]}),o})();var $=p(5626),Q=p(5303),ot=p(2071);function it(o,l){1&o&&(t.ynx(0),t.TgZ(1,"div",4),t.TgZ(2,"p"),t._uU(3," Newsfeed is empty! Follow people or cities to see their future posts here. "),t.qZA(),t._UZ(4,"img",5),t.qZA(),t.BQk())}function r(o,l){if(1&o&&t._UZ(0,"app-post",8,9),2&o){const n=t.oxw().$implicit;t.Q6J("postId",n.postData.postId)("postData",n.postData)}}function C(o,l){if(1&o&&t._UZ(0,"app-post",8),2&o){const n=t.oxw().$implicit;t.Q6J("postId",n.postData.postId)("postData",n.postData)}}function i(o,l){if(1&o&&(t.ynx(0),t.YNc(1,r,2,2,"app-post",6),t.YNc(2,C,1,2,"ng-template",null,7,t.W1O),t.BQk()),2&o){const n=l.index,s=t.MAs(3),a=t.oxw();t.xp6(1),t.Q6J("ngIf",n===a.posts.length-6)("ngIfElse",s)}}let c=(()=>{class o{constructor(n){this.postService=n,this.posts=[],this.showSpinner=!0}ngOnInit(){this.postService.getNewsfeed().subscribe(n=>{n.forEach(s=>{this.posts.push(new $.a(s,this.postService))}),this.showSpinner=!1})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(T.L))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],decls:4,vars:4,consts:[[1,"home-page"],[3,"show","overlay"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"newsfeed-empty"],["src","../../../../../assets/main-module/Following-pana.svg","alt",""],["appIncreasePostViews","",3,"postId","postData",4,"ngIf","ngIfElse"],["allPosts",""],["appIncreasePostViews","",3,"postId","postData"],["lastElement",""]],template:function(n,s){1&n&&(t.TgZ(0,"section",0),t._UZ(1,"app-loading-spinner",1),t.YNc(2,it,5,0,"ng-container",2),t.YNc(3,i,4,2,"ng-container",3),t.qZA()),2&n&&(t.xp6(1),t.Q6J("show",s.showSpinner)("overlay","component"),t.xp6(1),t.Q6J("ngIf",0===s.posts.length&&!s.showSpinner),t.xp6(1),t.Q6J("ngForOf",s.posts))},directives:[w.g,f.O5,f.sg,Q.A,ot.D],styles:[".home-page[_ngcontent-%COMP%]{min-height:100vh;position:relative;padding:1em 0}@media (min-width: 800px){.home-page[_ngcontent-%COMP%]{overflow:hidden;border-radius:1em;box-shadow:0 3px 6px #666;background-color:#e8deeb;background-attachment:fixed;background-image:linear-gradient(180deg,#e8deeb 0%,#e3cce9 0%,#6e75a06e 0%,#e3cce9b5 83%,#e8deeb 100%)}}.newsfeed-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5b618a;font-size:1.8rem;text-align:center}@media (min-width: 800px){.newsfeed-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:3rem 15vw 0}}.newsfeed-empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:.5rem}@media (min-width: 800px){.newsfeed-empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:3rem auto;width:50%}}"]}),o})();var u=p(9983);function P(o,l){if(1&o&&t._UZ(0,"app-post",5),2&o){const n=t.oxw();t.Q6J("postData",n.postData)}}const v=function(o){return[o]};let A=(()=>{class o{constructor(n,s,a,d,m){this.routerExtService=n,this.router=s,this.route=a,this.postService=d,this.userInfoService=m,this.previousUrl="",this.postId=this.router.url.split("/")[3]}ngOnInit(){this.previousUrl=this.routerExtService.getPreviousUrl(),(""===this.previousUrl||this.previousUrl===this.router.url)&&(this.previousUrl="/app/home"),this.postService.getPostById(this.postId).subscribe(n=>{const s=new $.a(n,this.postService);this.postData=s.postData})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(u.i),t.Y36(e.F0),t.Y36(e.gz),t.Y36(T.L),t.Y36(y.$))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-post-page"]],decls:5,vars:6,consts:[[1,"post-page"],[3,"show","overlay"],[1,"back-btn",3,"routerLink"],["src","../../../../../../../assets/main-module/profile/back.svg","alt",""],[3,"postData",4,"ngIf"],[3,"postData"]],template:function(n,s){1&n&&(t.TgZ(0,"section",0),t._UZ(1,"app-loading-spinner",1),t.TgZ(2,"button",2),t._UZ(3,"img",3),t.qZA(),t.YNc(4,P,1,1,"app-post",4),t.qZA()),2&n&&(t.xp6(1),t.Q6J("show",!s.postData)("overlay","component"),t.xp6(1),t.Q6J("routerLink",t.VKq(4,v,s.previousUrl)),t.xp6(2),t.Q6J("ngIf",s.postData))},directives:[w.g,e.rH,f.O5,Q.A],styles:[".post-page[_ngcontent-%COMP%]{position:relative;min-height:100vh;margin:0;border-radius:2rem;background-color:transparent;overflow:hidden}@media (min-width: 800px){.post-page[_ngcontent-%COMP%]{box-shadow:0 3px 6px #666;background-color:#e8deeb;padding:2em;background-attachment:fixed;background-image:linear-gradient(180deg,#e8deeb 0%,#e3cce9 0%,#6e75a06e 0%,#e3cce9b5 83%,#e8deeb 100%)}}.post-page[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{background-color:transparent;padding:0;width:2.5rem}@media (min-width: 800px){.post-page[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{position:absolute;width:3rem}}.post-page[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),o})();var rt=p(520),st=p(4004),ct=p(2340),at=p(958);const E=new rt.WM;E.append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Methods","GET,PUT,POST,DELETE,PATCH,OPTIONS");let lt=(()=>{class o{constructor(n){this.http=n,this.url=`${ct.N.apiUrl}/api/v1/search`}searchByImage(n,s){const a=n.includes("http://localhost")?at.E.localhost:at.E.remotehost;return this.http.post(`${a}/api/v1/search/image`,s,{headers:E}).pipe((0,st.U)(d=>{const m=[];return d.results.suggestions.forEach(b=>{m.push({city:`${b.firstName} ${b.lastName}`,country:b.country.name,cityId:b._id,image:b.matchedImage,location:{lat:b.location.latitude,lng:b.location.longitude}})}),m}))}searchUser(n){return this.http.get(`${this.url}/liveSearch?type=user&q=${n}`,{headers:E.append("content-type","application/json")}).pipe((0,st.U)(s=>{const a=[];return s.results.suggestions.forEach(d=>{a.push({name:`${d.firstName} ${d.lastName}`,username:d.userName,avatar:d.avatar})}),a}))}searchCity(n){return this.http.get(`${this.url}/liveSearch?type=city&q=${n}`,{headers:E.append("content-type","application/json")}).pipe((0,st.U)(s=>{const a=[];return s.results.suggestions.forEach(d=>{a.push({city:`${d.firstName} ${d.lastName}`,country:d.country,cityId:+d._id,image:d.images[0],location:{lat:d.location.latitude,lng:d.location.longitude}})}),a}))}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(rt.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const pt=["dropDown"],dt=["selectedInput"];function gt(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"li",10,11),t.NdJ("click",function(a){t.CHM(n);const d=t.oxw(),m=t.MAs(6),b=t.MAs(9);return d.setSelectedListItem(a,m,b)})("keydown.enter",function(a){t.CHM(n);const d=t.oxw(),m=t.MAs(6),b=t.MAs(9);return d.setSelectedListItem(a,m,b)})("keydown.arrowup",function(a){const m=t.CHM(n).index;return t.oxw().focusPreviousListItem(a,m)})("keydown.arrowdown",function(a){const m=t.CHM(n).index;return t.oxw().focusNextListItem(a,m)}),t._uU(2),t.qZA()}if(2&o){const n=l.$implicit;t.MGl("id","option-",l.index,""),t.xp6(2),t.hij(" ",n," ")}}let mt=(()=>{class o{constructor(){this.label="",this.selected="",this.dropDownItems=[],this.selectedValue=new t.vpe}updateSelectedValue(){this.selectedValue.emit(this.selectedInput.nativeElement.innerHTML)}ngOnInit(){}toggleListVisibility(n){n.classList.toggle("open"),this.dropDown.nativeElement.classList.toggle("open"),n.setAttribute("aria-expanded",n.classList.contains("open").toString())}setSelectedListItem(n,s,a){s.innerHTML=n.target.innerHTML,this.updateSelectedValue(),this.closeList(a)}closeList(n){n.classList.remove("open"),this.dropDown.nativeElement.classList.remove("open"),n.setAttribute("aria-expanded","false")}openList(n){n.classList.add("open"),this.dropDown.nativeElement.classList.add("open"),n.setAttribute("aria-expanded","true")}focusPreviousListItem(n,s){var a;n.preventDefault(),s>=0&&(null===(a=document.getElementById("option-"+(s-1)))||void 0===a||a.focus())}focusNextListItem(n,s){var a;n.preventDefault(),s<=this.dropDownItems.length-1&&(null===(a=document.getElementById(`option-${s+1}`))||void 0===a||a.focus())}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-search-drop-down"]],viewQuery:function(n,s){if(1&n&&(t.Gf(pt,5),t.Gf(dt,5)),2&n){let a;t.iGM(a=t.CRH())&&(s.dropDown=a.first),t.iGM(a=t.CRH())&&(s.selectedInput=a.first)}},inputs:{label:"label",selected:"selected",dropDownItems:"dropDownItems"},outputs:{selectedValue:"selectedValue"},decls:12,vars:3,consts:[[1,"dropdown"],["dropDown",""],["id","dropdown-label","hidden","",1,"dropdown__label"],["labelText",""],["aria-labelledby","dropdown-label","tabindex","0","id","dropdown__selected",3,"click","keydown.enter","keydown.esc"],["selectedInput",""],["aria-expanded","false","role","list",1,"dropdown__list-container",3,"keydown.esc"],["dropDownListContainer",""],[1,"dropdown__list"],["class","dropdown__list-item","tabindex","0",3,"id","click","keydown.enter","keydown.arrowup","keydown.arrowdown",4,"ngFor","ngForOf"],["tabindex","0",1,"dropdown__list-item",3,"id","click","keydown.enter","keydown.arrowup","keydown.arrowdown"],["item",""]],template:function(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"ul",0,1),t.TgZ(2,"li",2,3),t._uU(4),t.qZA(),t.TgZ(5,"li",4,5),t.NdJ("click",function(){t.CHM(a);const m=t.MAs(9);return s.toggleListVisibility(m)})("keydown.enter",function(){t.CHM(a);const m=t.MAs(9);return s.toggleListVisibility(m)})("keydown.esc",function(){t.CHM(a);const m=t.MAs(9);return s.closeList(m)}),t._uU(7),t.qZA(),t.TgZ(8,"li",6,7),t.NdJ("keydown.esc",function(){t.CHM(a);const m=t.MAs(9);return s.closeList(m)}),t.TgZ(10,"ul",8),t.YNc(11,gt,3,2,"li",9),t.qZA(),t.qZA(),t.qZA()}2&n&&(t.xp6(4),t.Oqu(s.label),t.xp6(3),t.hij(" ",s.selected," "),t.xp6(4),t.Q6J("ngForOf",s.dropDownItems))},directives:[f.sg],styles:['.dropdown[_ngcontent-%COMP%]{background-color:#e8deeb;padding-left:0;list-style:none;position:relative;width:6rem;height:2.8rem;border-radius:0 1rem 1rem 0;cursor:pointer;border:1px solid #5B618A;margin:0;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.dropdown.open[_ngcontent-%COMP%], .dropdown.open[_ngcontent-%COMP%]   #dropdown__selected[_ngcontent-%COMP%]{border-radius:0 1rem 0 0}.dropdown.open[_ngcontent-%COMP%]   #dropdown__selected[_ngcontent-%COMP%]:after{transform:rotate(180deg) translateY(calc(-50% + .5rem))}.dropdown.open[_ngcontent-%COMP%]   .dropdown__list-container[_ngcontent-%COMP%]{display:block}.dropdown[_ngcontent-%COMP%]   #dropdown__selected[_ngcontent-%COMP%]{color:#5b618a;padding:.8rem;width:100%;height:100%;position:relative;outline:none;border-radius:0 1rem 1rem 0;display:flex;align-items:center}.dropdown[_ngcontent-%COMP%]   #dropdown__selected[_ngcontent-%COMP%]:after{content:"";position:absolute;right:1rem;top:50%;width:0;height:0;border-left:.5rem solid transparent;border-right:.5rem solid transparent;border-top:.5rem solid #5B618A;transform:translateY(-50%);transition:all .3s ease-in-out}.dropdown[_ngcontent-%COMP%]   #dropdown__selected[_ngcontent-%COMP%]:focus{background-color:#e1cce5}.dropdown[_ngcontent-%COMP%]   #dropdown__selected[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;background-color:transparent;display:block;width:100%;height:100%;font-size:1.2rem;color:#5b618a}.dropdown[_ngcontent-%COMP%]   #dropdown__selected[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#5b618a}.dropdown[_ngcontent-%COMP%]   #dropdown__selected[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#5b618a}.dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:1.2rem;color:#5b618a}.dropdown[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline;width:1rem;margin-right:.5rem}.dropdown__list-container[_ngcontent-%COMP%]{display:none;position:absolute;top:calc(2.8rem - 2px);left:-1px;border-radius:0 0 1rem 1rem;border:1px solid #5B618A;width:calc(100% + 2px);overflow:hidden;z-index:30}.dropdown__list-container[_ngcontent-%COMP%]   .dropdown__list[_ngcontent-%COMP%]{min-height:50px;max-height:400px;overflow:auto;padding-left:0;list-style:none;width:100%;background-color:#e8deeb}.dropdown__list-container[_ngcontent-%COMP%]   .dropdown__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.8rem;outline:none;width:100%}.dropdown__list-container[_ngcontent-%COMP%]   .dropdown__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .dropdown__list-container[_ngcontent-%COMP%]   .dropdown__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus{background-color:#e1cce5}.dropdown__list-container[_ngcontent-%COMP%]   .dropdown__list[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#e8deeb;width:6px}']}),o})();function _t(o,l){1&o&&(t.TgZ(0,"label",10),t._UZ(1,"img",11),t.qZA())}function ut(o,l){1&o&&(t.TgZ(0,"div",12),t.TgZ(1,"p"),t._uU(2,"No results yet"),t.qZA(),t._UZ(3,"img",13),t.qZA())}function ht(o,l){1&o&&(t.TgZ(0,"div"),t._UZ(1,"app-loading-spinner",14),t.qZA()),2&o&&(t.xp6(1),t.Q6J("show",!0)("colored",!1)("overlay","component"))}const ft=function(o){return["/app/city",o]};function Ct(o,l){if(1&o&&(t.TgZ(0,"div",18),t.TgZ(1,"a",19),t.TgZ(2,"div",20),t._UZ(3,"img",21),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"a",22),t._UZ(7,"img",23),t.qZA(),t.qZA()),2&o){const n=l.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(5,ft,n.cityId)),t.xp6(2),t.Q6J("src",n.image||"assets/main-module/profile/default-cover.svg",t.LSH),t.xp6(2),t.AsE("",n.city,"",n.country?", "+n.country:"",""),t.xp6(1),t.Q6J("href","https://www.google.com/maps/search/?api=1&query="+n.location.lat+","+n.location.lng,t.LSH)}}function Pt(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Ct,8,7,"div",17),t.BQk()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.citySearchResults)}}const Mt=function(o){return["/app/profile",o]};function Ot(o,l){if(1&o&&(t.TgZ(0,"a",25),t.TgZ(1,"div",26),t._UZ(2,"img",21),t.qZA(),t.TgZ(3,"div",27),t.TgZ(4,"p",28),t._uU(5),t.qZA(),t.TgZ(6,"p",29),t._uU(7),t.qZA(),t.qZA(),t.qZA()),2&o){const n=l.$implicit;t.Q6J("routerLink",t.VKq(4,Mt,n.username)),t.xp6(2),t.Q6J("src",n.avatar||"assets/main-module/profile/default-personal-image.svg",t.LSH),t.xp6(3),t.Oqu(n.name),t.xp6(2),t.hij("@",n.username,"")}}function vt(o,l){if(1&o&&t.YNc(0,Ot,8,6,"a",24),2&o){const n=t.oxw(2);t.Q6J("ngForOf",n.userSearchResults)}}function bt(o,l){if(1&o&&(t.TgZ(0,"div",15),t.YNc(1,Pt,2,1,"ng-container",8),t.YNc(2,vt,1,1,"ng-template",null,16,t.W1O),t.qZA()),2&o){const n=t.MAs(3),s=t.oxw();t.xp6(1),t.Q6J("ngIf"," Cities "===s.searchType)("ngIfElse",n)}}const xt=function(){return["Users","Cities"]};let wt=(()=>{class o{constructor(n,s){this.searchService=n,this.router=s,this.searchType=" Users ",this.citySearchResults=[],this.userSearchResults=[],this.searching=!1}ngOnInit(){}searchByImage(n){this.searching=!0;const s=n.target.files[0],a=new FormData;a.append("query",s);const d=window.location.href;this.searchService.searchByImage(d,a).subscribe(m=>{this.citySearchResults=m,n.target.value="",this.searching=!1})}setSearchType(n){this.searchType=n,this.citySearchResults=[],this.userSearchResults=[]}onTyping(n){this.searching=!0," Users "===this.searchType?this.searchService.searchUser(n).subscribe(s=>{this.userSearchResults=s,this.searching=!1}):this.searchService.searchCity(n).subscribe(s=>{this.citySearchResults=s,this.searching=!1})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(lt),t.Y36(e.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-search"]],decls:11,vars:8,consts:[[1,"search-page"],[1,"search-field"],["type","text","placeholder","Search",3,"keyup"],["searchInput",""],[3,"label","selected","dropDownItems","selectedValue"],["for","select-search-image",4,"ngIf"],["type","file","name","","id","select-search-image","hidden","",3,"change"],["class","no-results",4,"ngIf"],[4,"ngIf","ngIfElse"],["results",""],["for","select-search-image"],["src","../../../../../assets/main-module/search/camera.svg","alt",""],[1,"no-results"],["src","../../../../../assets/main-module/search/search.svg","alt",""],[3,"show","colored","overlay"],[1,"results"],["searchUser",""],["class","result",4,"ngFor","ngForOf"],[1,"result"],[1,"city-link",3,"routerLink"],[1,"city-cover"],["alt","",3,"src"],["target","_blank",1,"map-link",3,"href"],["src","../../../../../assets/main-module/city/location.svg","alt",""],["class","result user-link",3,"routerLink",4,"ngFor","ngForOf"],[1,"result","user-link",3,"routerLink"],[1,"avatar"],[1,"user-info"],[1,"name"],[1,"username"]],template:function(n,s){if(1&n){const a=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"input",2,3),t.NdJ("keyup",function(){t.CHM(a);const m=t.MAs(3);return s.onTyping(m.value)}),t.qZA(),t.TgZ(4,"app-search-drop-down",4),t.NdJ("selectedValue",function(m){return s.setSearchType(m)}),t.qZA(),t.YNc(5,_t,2,0,"label",5),t.TgZ(6,"input",6),t.NdJ("change",function(m){return s.searchByImage(m)}),t.qZA(),t.qZA(),t.YNc(7,ut,4,0,"div",7),t.YNc(8,ht,2,3,"div",8),t.YNc(9,bt,4,2,"ng-template",null,9,t.W1O),t.qZA()}if(2&n){const a=t.MAs(10);t.xp6(4),t.Q6J("label","search")("selected","Users")("dropDownItems",t.DdM(7,xt)),t.xp6(1),t.Q6J("ngIf"," Cities "===s.searchType),t.xp6(2),t.Q6J("ngIf",0===s.citySearchResults.length&&0===s.userSearchResults.length&&!s.searching),t.xp6(1),t.Q6J("ngIf",s.searching)("ngIfElse",a)}},directives:[mt,f.O5,w.g,f.sg,e.yS],styles:[".search-page[_ngcontent-%COMP%]{min-height:100vh;position:relative;padding:1em}@media (min-width: 800px){.search-page[_ngcontent-%COMP%]{overflow:hidden;border-radius:1em;box-shadow:0 3px 6px #666;background-color:#e8deeb;background-attachment:fixed;background-image:linear-gradient(180deg,#e8deeb 0%,#e3cce9 0%,#6e75a06e 0%,#e3cce9b5 83%,#e8deeb 100%)}}.search-page[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{max-width:700px;margin:auto;width:100%;display:flex;flex-direction:row;justify-content:stretch;align-items:stretch}.search-page[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#5b618a;padding:.5rem;border-radius:1rem;margin-left:.5rem;cursor:pointer}.search-page[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.8rem;width:1.8rem}.search-page[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;width:100px;font-size:1.2rem;padding-left:.8rem;background-color:#e8deeb;border-radius:1rem 0 0 1rem;border:1px solid #5B618A;color:#5b618a}.search-page[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#5b618a}.search-page[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#5b618a}.search-page[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{margin:5rem auto}.search-page[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5b618a;font-weight:500;font-size:1.8rem;margin:1rem;text-align:center}@media (min-width: 800px){.search-page[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2.4rem}}.search-page[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:auto}.search-page[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;margin:3rem auto;width:100%;max-width:700px}.search-page[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{text-decoration:none;background-color:#e8deeb99;border-radius:1rem;padding:1rem;width:100%;transition:all .3s ease-in-out;display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:1rem}.search-page[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]:hover{background-color:transparent;background-attachment:fixed;background-image:linear-gradient(90deg,#e8deeb 0%,#e3cce9 0%,#6e75a06e 0%,#e3cce9b5 83%,#e8deeb 100%)}@media (min-width: 800px){.search-page[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{background-color:#ffffff1a}}.search-page[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   a.city-link[_ngcontent-%COMP%]   .city-cover[_ngcontent-%COMP%]{background-color:#e8deeb;border:2px solid #5B618A;border-radius:1rem;overflow:hidden;width:60px;height:60px}.search-page[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   a.city-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.search-page[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   a.map-link[_ngcontent-%COMP%]{display:block;height:100%;transform:scale(1.4);transition:all .3s ease-in-out}.search-page[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   a.map-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.search-page[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   a.map-link[_ngcontent-%COMP%]:hover{transform:scale(1.7)}.search-page[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   a.city-link[_ngcontent-%COMP%]{flex:1;text-decoration:none;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:1rem}.search-page[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   a.city-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5b618a;font-weight:500;font-size:1.44rem;margin:0}.search-page[_ngcontent-%COMP%]   a.user-link[_ngcontent-%COMP%]{text-decoration:none;color:#5b618a;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:1rem}.search-page[_ngcontent-%COMP%]   a.user-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.search-page[_ngcontent-%COMP%]   a.user-link[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;margin-bottom:.25rem}.search-page[_ngcontent-%COMP%]   a.user-link[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:60px;height:60px;background-color:#e8deeb;border:2px solid #5B618A;border-radius:1rem;overflow:hidden}.search-page[_ngcontent-%COMP%]   a.user-link[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}"]}),o})();var Zt=p(9760);const Tt=[{path:"",component:nt,children:[{path:"home",component:c},{path:"profile/:username",loadChildren:()=>Promise.all([p.e(592),p.e(209)]).then(p.bind(p,6209)).then(o=>o.ProfileModule),resolve:{userInfo:(()=>{class o{constructor(n,s){this.userInfoService=n,this.tokenStorageService=s}resolve(n,s){const a=n.params.username;return a===this.userInfoService.myUserName.value&&this.userInfoService.myInfo.value!==this.userInfoService.initialUserInfo?this.userInfoService.myInfo.value:this.userInfoService.getUserProfile(a)}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(y.$),t.LFG(Zt.i))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}},{path:"city/:cityId",loadChildren:()=>p.e(616).then(p.bind(p,616)).then(o=>o.CityModule)},{path:"post/:postId",component:A},{path:"trip",loadChildren:()=>Promise.all([p.e(592),p.e(804)]).then(p.bind(p,8804)).then(o=>o.TripModule)},{path:"search",component:wt},{path:"",redirectTo:"home",pathMatch:"full"}]}];let yt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[e.Bz.forChild(Tt)],e.Bz]}),o})();var kt=p(4466);let At=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.ez,yt,kt.m,_.UX,e.Bz]]}),o})()},5303:(N,k,p)=>{p.d(k,{A:()=>it});var f=p(2382),e=p(1223),_=p(6082),t=p(8588),y=p(9983),T=p(2469),M=p(4611),w=p(9808);function O(r,C){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"img",13),e.qZA()),2&r){const i=C.$implicit,c=e.oxw();e.Gre("",c.sliderId,"__post-media"),e.xp6(1),e.Q6J("src",i,e.LSH)}}const x=function(r){return{disabled:r}};let g=(()=>{class r{constructor(){this.postImages=[],this.postType="post",this.indexOfCurrentMedia=0,this.sliderId=`slider-${this.postType}-${this.postId}`,this.slider=document.getElementById(this.sliderId),this.sliderWidth=0,this.ngOnInitCount=0,this.ngCheckedCount=0}ngOnInit(){this.setSliderWidth()}ngAfterViewChecked(){this.setSliderWidth()}setSliderWidth(){var i,c;this.sliderId=`slider-${this.postType}-${this.postId}`,this.slider=document.getElementById(this.sliderId),this.numberOfMedia=this.postImages.length;const u=null===(c=null===(i=this.slider)||void 0===i?void 0:i.parentElement)||void 0===c?void 0:c.getBoundingClientRect().width;u&&this.slider&&(this.sliderWidth=u*this.numberOfMedia,this.slider.style.width=this.sliderWidth.toString()+"px",document.querySelectorAll(`.${this.sliderId}__post-media`).forEach(v=>{let A=getComputedStyle(v).marginLeft;A=A.slice(0,A.indexOf("px")),v.style.width=(this.sliderWidth/this.numberOfMedia-2*A).toString()+"px"}))}moveToPreviousMedia(){if(this.indexOfCurrentMedia>0){this.indexOfCurrentMedia--;const i=this.sliderWidth/this.numberOfMedia*this.indexOfCurrentMedia;this.slider&&(this.slider.style.transform=`translate(${-i}px)`)}}moveToNextMedia(){if(this.indexOfCurrentMedia<this.numberOfMedia-1){this.indexOfCurrentMedia++;const i=this.sliderWidth/this.numberOfMedia*this.indexOfCurrentMedia;this.slider&&(this.slider.style.transform=`translate(${-i}px)`)}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-slider"]],inputs:{postImages:"postImages",postId:"postId",postType:"postType"},decls:15,vars:8,consts:[[1,"slider-wrapper"],[1,"slider-controlers"],[1,"prev-btn",3,"ngClass","click"],[0,"xlink","href","#prev-arrow-icon","href","#prev-arrow-icon"],[1,"slider",3,"id"],[3,"class",4,"ngFor","ngForOf"],[1,"next-btn",3,"ngClass","click"],[0,"xlink","href","#next-arrow-icon","href","#next-arrow-icon"],["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["id","prev-arrow-icon","viewBox","0 0 24 24","fill","currentColor"],["d","M14.71 6.71c-.39-.39-1.02-.39-1.41 0L8.71 11.3c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L10.83 12l3.88-3.88c.39-.39.38-1.03 0-1.41z","stroke","#5b618a","stroke-width","1"],["id","next-arrow-icon","viewBox","0 0 24 24","fill","currentColor"],["d","M9.31 6.71c-.39.39-.39 1.02 0 1.41L13.19 12l-3.88 3.88c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41L10.72 6.7c-.38-.38-1.02-.38-1.41.01z","stroke","#5b618a","stroke-width","1"],["alt","",3,"src"]],template:function(i,c){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return c.moveToPreviousMedia()}),e.O4$(),e.TgZ(3,"svg"),e._UZ(4,"use",3),e.qZA(),e.qZA(),e.kcU(),e.TgZ(5,"div",4),e.YNc(6,O,2,4,"div",5),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return c.moveToNextMedia()}),e.O4$(),e.TgZ(8,"svg"),e._UZ(9,"use",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"svg",8),e.TgZ(11,"symbol",9),e._UZ(12,"path",10),e.qZA(),e.TgZ(13,"symbol",11),e._UZ(14,"path",12),e.qZA(),e.qZA()),2&i&&(e.xp6(2),e.Q6J("ngClass",e.VKq(4,x,0==c.indexOfCurrentMedia)),e.xp6(3),e.s9C("id",c.sliderId),e.xp6(1),e.Q6J("ngForOf",c.postImages),e.xp6(1),e.Q6J("ngClass",e.VKq(6,x,c.indexOfCurrentMedia==c.numberOfMedia-1)))},directives:[w.mk,w.sg],styles:[".slider-wrapper[_ngcontent-%COMP%]{overflow:hidden;background-color:#ebebeb}.slider-controlers[_ngcontent-%COMP%]{position:relative}.slider-controlers[_ngcontent-%COMP%]   .prev-btn[_ngcontent-%COMP%], .slider-controlers[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{padding:0;position:absolute;z-index:50;top:50%;transform:translateY(-50%);border-radius:50%;margin:0 1rem;background-color:#c6c5d980;width:3rem;height:3rem}.slider-controlers[_ngcontent-%COMP%]   .prev-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .slider-controlers[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;color:transparent;transition:all .3s ease-in-out}.slider-controlers[_ngcontent-%COMP%]   .prev-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover, .slider-controlers[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{color:#5b618a}.slider-controlers[_ngcontent-%COMP%]   .prev-btn.disabled[_ngcontent-%COMP%], .slider-controlers[_ngcontent-%COMP%]   .next-btn.disabled[_ngcontent-%COMP%]{cursor:default;background-color:transparent}.slider-controlers[_ngcontent-%COMP%]   .prev-btn.disabled[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .slider-controlers[_ngcontent-%COMP%]   .next-btn.disabled[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:none}.slider-controlers[_ngcontent-%COMP%]   .prev-btn[_ngcontent-%COMP%]{left:0}.slider-controlers[_ngcontent-%COMP%]   .next-btn[_ngcontent-%COMP%]{right:0}.slider-controlers[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{height:300px;transition:all .3s ease-in-out}@media (min-width: 800px){.slider-controlers[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{height:40vh;max-height:400px}}.slider-controlers[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   [class$=__post-media][_ngcontent-%COMP%]{height:100%;display:inline-block}@media (min-width: 800px){.slider-controlers[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   [class$=__post-media][_ngcontent-%COMP%]{margin:0 5rem}}.slider-controlers[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   [class$=__post-media][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}"]}),r})();var h=p(3372);function Z(r,C){if(1&r){const i=e.EpF();e.TgZ(0,"div",58),e.TgZ(1,"button",59),e.NdJ("click",function(){e.CHM(i);const u=e.MAs(4);return e.oxw().toggleOptionsList(u)}),e._UZ(2,"img",60),e.qZA(),e.TgZ(3,"div",61,62),e.TgZ(5,"button",63),e.NdJ("click",function(){e.CHM(i);const u=e.oxw(),P=e.MAs(45);return u.openDeletePostPopup(P)}),e._uU(6," Delete "),e.qZA(),e.qZA(),e.qZA()}}function S(r,C){if(1&r&&e._UZ(0,"app-slider",67),2&r){const i=e.oxw(2);e.Q6J("postImages",i.postData.content.media.files)("postId",i.postData.postId)}}function I(r,C){if(1&r&&(e.TgZ(0,"video",68),e._UZ(1,"source",69),e._uU(2," No video support. "),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("src",i.postData.content.media.files[0],e.LSH)}}function q(r,C){if(1&r&&(e.ynx(0),e.YNc(1,S,1,2,"app-slider",64),e.TgZ(2,"div",65),e.YNc(3,I,3,1,"video",66),e.qZA(),e.BQk()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("ngIf","images"===i.postData.content.media.type),e.xp6(2),e.Q6J("ngIf","video"===i.postData.content.media.type)}}function D(r,C){if(1&r&&e._UZ(0,"app-slider",67),2&r){const i=e.oxw(3);e.Q6J("postImages",i.postData.sharedSource.content.media.files)("postId",i.postData.postId)}}function z(r,C){if(1&r&&(e.TgZ(0,"video",68),e._UZ(1,"source",69),e._uU(2," No video support. "),e.qZA()),2&r){const i=e.oxw(3);e.xp6(1),e.Q6J("src",i.postData.sharedSource.content.media.files[0],e.LSH)}}function F(r,C){if(1&r&&(e.TgZ(0,"p",73),e._uU(1),e.qZA()),2&r){const i=e.oxw(3);e.xp6(1),e.hij(" ",i.postData.sharedSource.content.text," ")}}const U=function(r){return["/app/profile",r]};function B(r,C){if(1&r){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",71,72),e.NdJ("click",function(u){return e.CHM(i),e.oxw(2).goToPostPage(u)}),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e._UZ(6,"img",6),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"p",8),e._uU(9),e.qZA(),e.TgZ(10,"a",9),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(12,D,1,2,"app-slider",64),e.TgZ(13,"div",65),e.YNc(14,z,3,1,"video",66),e.qZA(),e.YNc(15,F,2,1,"p",13),e.qZA(),e.BQk()}if(2&r){const i=e.oxw(2);e.xp6(6),e.Q6J("src",i.postData.sharedSource.authorInfo.avatar||"assets/main-module/profile/default-personal-image.svg",e.LSH),e.xp6(3),e.AsE(" ",i.postData.sharedSource.authorInfo.firstName," ",i.postData.sharedSource.authorInfo.lastName," "),e.xp6(1),e.Q6J("routerLink",e.VKq(8,U,i.postData.sharedSource.authorInfo.userName)),e.xp6(1),e.hij("@",i.postData.sharedSource.authorInfo.userName,""),e.xp6(1),e.Q6J("ngIf","images"===i.postData.sharedSource.content.media.type),e.xp6(2),e.Q6J("ngIf","video"===i.postData.sharedSource.content.media.type),e.xp6(1),e.Q6J("ngIf",i.postData.sharedSource.content.text)}}function Y(r,C){1&r&&(e.TgZ(0,"p",74),e._uU(1,"Shared post is no longer available"),e.qZA())}function H(r,C){if(1&r&&(e.YNc(0,B,16,10,"ng-container",11),e.YNc(1,Y,2,0,"ng-template",null,70,e.W1O)),2&r){const i=e.MAs(2),c=e.oxw();e.Q6J("ngIf",!c.postData.sharedSource.deleted)("ngIfElse",i)}}function V(r,C){if(1&r&&(e.TgZ(0,"p",73),e._uU(1),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.hij(" ",i.postData.content.text," ")}}function j(r,C){1&r&&(e.TgZ(0,"div",75),e._UZ(1,"app-loading-spinner",76),e.qZA()),2&r&&(e.xp6(1),e.Q6J("show",!0)("overlay","component")("colored",!1))}function R(r,C){1&r&&(e.TgZ(0,"div",77),e.TgZ(1,"p"),e._uU(2,"No comments"),e.qZA(),e._UZ(3,"img",78),e.qZA())}function W(r,C){if(1&r){const i=e.EpF();e.TgZ(0,"div",92),e.TgZ(1,"button",59),e.NdJ("click",function(){e.CHM(i);const u=e.MAs(4);return e.oxw(3).toggleOptionsList(u)}),e._UZ(2,"img",60),e.qZA(),e.TgZ(3,"div",61,62),e.TgZ(5,"button",63),e.NdJ("click",function(){e.CHM(i);const u=e.oxw().$implicit;return e.oxw(2).deleteComment(u)}),e._uU(6," Delete "),e.qZA(),e.qZA(),e.qZA()}}const L=function(r){return{liked:r}};function G(r,C){if(1&r){const i=e.EpF();e.TgZ(0,"div",80),e.TgZ(1,"div",81),e.YNc(2,W,7,0,"div",82),e.TgZ(3,"div",83),e._UZ(4,"img",84),e.qZA(),e.TgZ(5,"div",85),e.TgZ(6,"p",86),e._uU(7),e.qZA(),e.TgZ(8,"a",87),e._uU(9),e.qZA(),e.TgZ(10,"p",88),e._uU(11),e.qZA(),e.TgZ(12,"div",89),e.TgZ(13,"button",90),e.NdJ("click",function(){const P=e.CHM(i).$implicit;return e.oxw(2).likeOrUnlikeComment(P)}),e.O4$(),e.TgZ(14,"svg"),e._UZ(15,"use",16),e.qZA(),e.qZA(),e.kcU(),e.TgZ(16,"span",91),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const i=C.$implicit,c=e.oxw(2);e.xp6(2),e.Q6J("ngIf",i.user.userName===c.myUserName.value),e.xp6(2),e.Q6J("src",i.user.avatar||"assets/main-module/profile/default-personal-image.svg",e.LSH),e.xp6(3),e.AsE(" ",i.user.firstName," ",i.user.lastName," "),e.xp6(1),e.Q6J("routerLink",e.VKq(9,U,i.user.userName)),e.xp6(1),e.hij("@",i.user.userName,""),e.xp6(2),e.hij(" ",i.text," "),e.xp6(2),e.Q6J("ngClass",e.VKq(11,L,i.isLiked)),e.xp6(4),e.Oqu(i.numberOfLikes)}}function K(r,C){if(1&r&&e.YNc(0,G,18,13,"div",79),2&r){const i=e.oxw();e.Q6J("ngForOf",i.comments)}}function X(r,C){if(1&r&&e._UZ(0,"app-slider",96),2&r){const i=e.oxw(2);e.Q6J("postImages",i.postData.content.media.files)("postId",i.postData.postId)("postType","share-post-popup")}}function tt(r,C){if(1&r&&(e.TgZ(0,"video",68),e._UZ(1,"source",69),e._uU(2," No video support. "),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("src",i.postData.content.media.files[0],e.LSH)}}function et(r,C){if(1&r&&(e.TgZ(0,"p",73),e._uU(1),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.postData.content.text," ")}}function J(r,C){if(1&r&&(e.ynx(0),e.TgZ(1,"div",93),e.TgZ(2,"div",94),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e._UZ(6,"img",6),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"p",8),e._uU(9),e.qZA(),e.TgZ(10,"a",9),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(12,X,1,3,"app-slider",95),e.TgZ(13,"div",65),e.YNc(14,tt,3,1,"video",66),e.qZA(),e.YNc(15,et,2,1,"p",13),e.qZA(),e.qZA(),e.BQk()),2&r){const i=e.oxw();e.xp6(6),e.Q6J("src",i.postData.authorInfo.avatar||"assets/main-module/profile/default-personal-image.svg",e.LSH),e.xp6(3),e.AsE(" ",i.postData.authorInfo.firstName," ",i.postData.authorInfo.lastName," "),e.xp6(1),e.Q6J("routerLink",e.VKq(8,U,i.postData.authorInfo.userName)),e.xp6(1),e.hij("@",i.postData.authorInfo.userName,""),e.xp6(1),e.Q6J("ngIf","images"===i.postData.content.media.type),e.xp6(2),e.Q6J("ngIf","video"===i.postData.content.media.type),e.xp6(1),e.Q6J("ngIf",i.postData.content.text)}}function nt(r,C){if(1&r&&e._UZ(0,"app-slider",96),2&r){const i=e.oxw(2);e.Q6J("postImages",i.postData.sharedSource.content.media.files)("postId",i.postData.postId)("postType","share-post-popup")}}function $(r,C){if(1&r&&(e.TgZ(0,"video",68),e._UZ(1,"source",69),e._uU(2," No video support. "),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.Q6J("src",i.postData.sharedSource.content.media.files[0],e.LSH)}}function Q(r,C){if(1&r&&(e.TgZ(0,"p",73),e._uU(1),e.qZA()),2&r){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.postData.sharedSource.content.text," ")}}function ot(r,C){if(1&r&&(e.TgZ(0,"div",93),e.TgZ(1,"div",94),e.TgZ(2,"div",3),e.TgZ(3,"div",4),e.TgZ(4,"div",5),e._UZ(5,"img",6),e.qZA(),e.TgZ(6,"div",7),e.TgZ(7,"p",8),e._uU(8),e.qZA(),e.TgZ(9,"a",9),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(11,nt,1,3,"app-slider",95),e.TgZ(12,"div",65),e.YNc(13,$,3,1,"video",66),e.qZA(),e.YNc(14,Q,2,1,"p",13),e.qZA(),e.qZA()),2&r){const i=e.oxw();e.xp6(5),e.Q6J("src",i.postData.sharedSource.authorInfo.avatar||"assets/main-module/profile/default-personal-image.svg",e.LSH),e.xp6(3),e.AsE(" ",i.postData.sharedSource.authorInfo.firstName," ",i.postData.sharedSource.authorInfo.lastName," "),e.xp6(1),e.Q6J("routerLink",e.VKq(8,U,i.postData.sharedSource.authorInfo.userName)),e.xp6(1),e.hij("@",i.postData.sharedSource.authorInfo.userName,""),e.xp6(1),e.Q6J("ngIf","images"===i.postData.sharedSource.content.media.type),e.xp6(2),e.Q6J("ngIf","video"===i.postData.sharedSource.content.media.type),e.xp6(1),e.Q6J("ngIf",i.postData.sharedSource.content.text)}}let it=(()=>{class r{constructor(i,c,u,P,v){this.postService=i,this.router=c,this.routerExt=u,this.userInfoService=P,this.toasterService=v,this.postData={postId:"",authorInfo:{userName:"",firstName:"",lastName:"",avatar:""},content:{text:"",media:{files:[],type:"images"}},numberOfComments:0,numberOfLikes:0,isShared:!1,sharedSource:{authorInfo:{userName:"",firstName:"",lastName:"",avatar:""},postId:"",content:{text:"",media:{type:"images",files:[]}},deleted:!1},isLiked:!1},this.isMyPost=!1,this.myUserName=this.userInfoService.myUserName,this.myInfo=this.userInfoService.myInfo,this.comments=[],this.addCommentForm=new f.cw({commentText:new f.NI("",[f.kI.required])}),this.deletingPost=!1,this.addingComment=!1}ngOnInit(){this.isMyPost=this.userInfoService.myUserName.value===this.postData.authorInfo.userName}likeOrUnlike(){this.postData.isLiked?(this.postService.unLike(this.postData.postId),this.postData.isLiked=!1,this.postData.numberOfLikes--):(this.postService.like(this.postData.postId),this.postData.isLiked=!0,this.postData.numberOfLikes++)}showSharePostPopup(i,c){i.classList.add("open")}sharePost(i,c){this.closePopup(c),this.toasterService.showToaster("uploading","Sharing Post");let u=new FormData;u.append("text",i.value),i.value="",this.postService.share(this.postData.postId,u).subscribe(P=>{this.toasterService.showToaster("success",P.results.message)},P=>{this.toasterService.showToaster("error",P.error.message)})}deletePost(i,c){this.closePopup(i),this.deletingPost=!0,this.postService.deletePost(this.postData.postId).subscribe(()=>{if(c.style.display="none","post"===this.router.url.split("/")[2]){let P=this.routerExt.getPreviousUrl();this.router.navigate([P])}this.deletingPost=!1},()=>{this.toasterService.showToaster("error","Error when deleting post"),this.deletingPost=!1})}toggleOptionsList(i){i.classList.contains("show")?i.classList.remove("show"):i.classList.add("show")}closePopup(i){i.classList.remove("open")}openDeletePostPopup(i){i.classList.add("open")}showComments(i){i.classList.toggle("show"),0===this.comments.length&&this.getComments()}getComments(){this.postService.getComments(this.postData.postId,this.postData.numberOfComments).subscribe(i=>{for(let c of i)this.userInfoService.getUserInfo(c.author).subscribe(u=>{this.comments.push({id:c._id,user:u,isLiked:c.isLiked,numberOfLikes:c.numberOfLikes,text:c.content.text})})})}addComment(i){let c,u=i.value;this.addCommentForm.reset(),this.addingComment=!0,this.postService.addComment(this.postData.postId,u).subscribe(P=>{c={id:P.results.commentId,user:{firstName:this.myInfo.value.firstName,lastName:this.myInfo.value.lastName,userName:this.myUserName.value,avatar:this.myInfo.value.avatar},isLiked:!1,numberOfLikes:0,text:u},this.postData.numberOfComments++,this.comments.unshift(c),this.addingComment=!1})}likeOrUnlikeComment(i){i.isLiked?(this.postService.unlikeComment(this.postData.postId,i.id).subscribe(),i.isLiked=!1,i.numberOfLikes--):(this.postService.likeComment(this.postData.postId,i.id).subscribe(),i.isLiked=!0,i.numberOfLikes++)}deleteComment(i){i.id&&this.postService.deleteComment(this.postData.postId,i.id).subscribe(()=>{var c=this.comments.indexOf(i);this.comments.splice(c,1),this.postData.numberOfComments--})}goToPostPage(i){"DIV"===i.target.nodeName&&this.router.navigate(["/app/post",this.postData.sharedSource.postId])}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(_.L),e.Y36(t.F0),e.Y36(y.i),e.Y36(T.$),e.Y36(M.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-post"]],inputs:{postData:"postData"},decls:81,vars:27,consts:[[1,"post"],["post",""],[1,"post-content"],[1,"post-header"],[1,"post-author"],[1,"post-author__avatar"],["alt","",3,"src"],[1,"post-author__info"],[1,"name"],[1,"username",3,"routerLink"],["class","post-options",4,"ngIf"],[4,"ngIf","ngIfElse"],["sharedPostContent",""],["class","post-text",4,"ngIf"],[1,"post-reactions"],[1,"like-btn",3,"ngClass","click"],["href","#like-icon"],["aria-label","number of likes"],[1,"comment-btn",3,"click"],["href","#comment-icon"],["aria-label","number of comments"],[1,"share-reaction"],[1,"share-btn",3,"click"],["src","../../../../../assets/main-module/post/share.svg","alt","share"],[1,"comments"],["commentsSection",""],[1,"add-comment",3,"formGroup","ngSubmit"],["type","text","placeholder","Add comment","formControlName","commentText"],["commentText",""],["type","submit",3,"disabled"],["style","height: 100px; position: relative",4,"ngIf"],["class","no-comments-yet",4,"ngIf","ngIfElse"],["commentsTemplate",""],["id","delete-post-popup",1,"overlay-wrapper"],["deletePostPopup",""],[1,"pop-up","delete-post"],[1,"close-btn",3,"click"],["src","../../../assets/main-module/Close.svg","alt",""],[1,"delete"],[1,"description"],["id","delete-btn",3,"click"],[3,"show"],["id","share-post-popup",1,"overlay-wrapper"],["sharePostPopup",""],[1,"pop-up","share-post"],[1,"scroll"],[1,"user-info"],[1,"user-avatar"],[1,"text-area"],["id","post-text","placeholder","add text..."],["sharedPostText",""],["sharedPostSharePopup",""],["id","share-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["height","100%","viewBox","0 0 24 24","width","100%","fill","currentColor","id","like-icon"],["d","M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z","stroke","#5b618a","stroke-width","1.538"],["height","100%","viewBox","0 0 24 24","width","100%","fill","currentColor","id","comment-icon"],["d","M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"],[1,"post-options"],[1,"options-btn",3,"click"],["src","../../../../../assets/main-module/post/options.svg","alt",""],[1,"options"],["options",""],[1,"delete-btn",3,"click"],[3,"postImages","postId",4,"ngIf"],[1,"video"],["controls","",4,"ngIf"],[3,"postImages","postId"],["controls",""],["type","video/mp4",3,"src"],["postNotFound",""],[1,"shared-post-container",3,"click"],["sharedPost",""],[1,"post-text"],[1,"post-not-found"],[2,"height","100px","position","relative"],[3,"show","overlay","colored"],[1,"no-comments-yet"],["src","../../../../../assets/main-module/post/no-comments.svg","alt",""],["class","comment-container",4,"ngFor","ngForOf"],[1,"comment-container"],[1,"comment"],["class","comment-options",4,"ngIf"],[1,"comment__author-avatar"],["alt","",1,"",3,"src"],[1,"comment__info"],[1,"comment__info__author-name"],[1,"comment__info__author-username",3,"routerLink"],[1,"comment__info__text"],[1,"comment-reaction"],[1,"like-comment-btn",3,"ngClass","click"],["aria-label","number of comment likes"],[1,"comment-options"],[1,"share-post-container"],[1,"shared-post"],[3,"postImages","postId","postType",4,"ngIf"],[3,"postImages","postId","postType"]],template:function(i,c){if(1&i){const u=e.EpF();e.TgZ(0,"div",0,1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e._UZ(6,"img",6),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"p",8),e._uU(9),e.qZA(),e.TgZ(10,"a",9),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.YNc(12,Z,7,0,"div",10),e.qZA(),e.YNc(13,q,4,2,"ng-container",11),e.YNc(14,H,3,2,"ng-template",null,12,e.W1O),e.YNc(16,V,2,1,"p",13),e.TgZ(17,"div",14),e.TgZ(18,"div"),e.TgZ(19,"button",15),e.NdJ("click",function(){return c.likeOrUnlike()}),e.O4$(),e.TgZ(20,"svg"),e._UZ(21,"use",16),e.qZA(),e.qZA(),e.kcU(),e.TgZ(22,"span",17),e._uU(23),e.qZA(),e.qZA(),e.TgZ(24,"div"),e.TgZ(25,"button",18),e.NdJ("click",function(){e.CHM(u);const v=e.MAs(34);return c.showComments(v)}),e.O4$(),e.TgZ(26,"svg"),e._UZ(27,"use",19),e.qZA(),e.qZA(),e.kcU(),e.TgZ(28,"span",20),e._uU(29),e.qZA(),e.qZA(),e.TgZ(30,"div",21),e.TgZ(31,"button",22),e.NdJ("click",function(){e.CHM(u);const v=e.MAs(58),A=e.MAs(70);return c.showSharePostPopup(v,A)}),e._UZ(32,"img",23),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",24,25),e.TgZ(35,"form",26),e.NdJ("ngSubmit",function(){e.CHM(u);const v=e.MAs(37);return c.addComment(v)}),e._UZ(36,"input",27,28),e.TgZ(38,"button",29),e._uU(39,"Post"),e.qZA(),e.qZA(),e.YNc(40,j,2,3,"div",30),e.YNc(41,R,4,0,"div",31),e.YNc(42,K,1,1,"ng-template",null,32,e.W1O),e.qZA(),e.qZA(),e.TgZ(44,"div",33,34),e.TgZ(46,"div",35),e.TgZ(47,"div"),e.TgZ(48,"button",36),e.NdJ("click",function(){e.CHM(u);const v=e.MAs(45);return c.closePopup(v)}),e._UZ(49,"img",37),e.qZA(),e.TgZ(50,"p",38),e._uU(51,"Delete Post?"),e.qZA(),e.TgZ(52,"p",39),e._uU(53," Are you sure you want to permanently remove this post from Rafiq? "),e.qZA(),e.TgZ(54,"button",40),e.NdJ("click",function(){e.CHM(u);const v=e.MAs(45),A=e.MAs(1);return c.deletePost(v,A)}),e._uU(55," Delete "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(56,"app-loading-spinner",41),e.TgZ(57,"div",42,43),e.TgZ(59,"div",44),e.TgZ(60,"div",45),e.TgZ(61,"button",36),e.NdJ("click",function(){e.CHM(u);const v=e.MAs(58);return c.closePopup(v)}),e._UZ(62,"img",37),e.qZA(),e.TgZ(63,"div",46),e.TgZ(64,"div",47),e._UZ(65,"img",6),e.qZA(),e.TgZ(66,"p"),e._uU(67),e.qZA(),e.qZA(),e.TgZ(68,"div",48),e._UZ(69,"textarea",49,50),e.qZA(),e.YNc(71,J,16,10,"ng-container",11),e.YNc(72,ot,15,10,"ng-template",null,51,e.W1O),e.TgZ(74,"button",52),e.NdJ("click",function(){e.CHM(u);const v=e.MAs(70),A=e.MAs(58);return c.sharePost(v,A)}),e._uU(75," Share "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.O4$(),e.TgZ(76,"svg",53),e.TgZ(77,"symbol",54),e._UZ(78,"path",55),e.qZA(),e.TgZ(79,"symbol",56),e._UZ(80,"path",57),e.qZA(),e.qZA()}if(2&i){const u=e.MAs(15),P=e.MAs(43),v=e.MAs(73);e.xp6(6),e.Q6J("src",c.postData.authorInfo.avatar||"assets/main-module/profile/default-personal-image.svg",e.LSH),e.xp6(3),e.AsE(" ",c.postData.authorInfo.firstName," ",c.postData.authorInfo.lastName," "),e.xp6(1),e.Q6J("routerLink",e.VKq(23,U,c.postData.authorInfo.userName)),e.xp6(1),e.hij("@",c.postData.authorInfo.userName,""),e.xp6(1),e.Q6J("ngIf",c.isMyPost),e.xp6(1),e.Q6J("ngIf",!c.postData.isShared)("ngIfElse",u),e.xp6(3),e.Q6J("ngIf",c.postData.content.text),e.xp6(3),e.Q6J("ngClass",e.VKq(25,L,c.postData.isLiked)),e.xp6(4),e.Oqu(c.postData.numberOfLikes),e.xp6(6),e.Oqu(c.postData.numberOfComments),e.xp6(6),e.Q6J("formGroup",c.addCommentForm),e.xp6(3),e.Q6J("disabled",!c.addCommentForm.valid),e.xp6(2),e.Q6J("ngIf",0===c.comments.length&&0!=c.postData.numberOfComments||c.addingComment),e.xp6(1),e.Q6J("ngIf",0===c.postData.numberOfComments)("ngIfElse",P),e.xp6(15),e.Q6J("show",c.deletingPost),e.xp6(9),e.Q6J("src",c.myInfo.value.avatar||"assets/main-module/profile/default-personal-image.svg",e.LSH),e.xp6(2),e.AsE("",c.myInfo.value.firstName," ",c.myInfo.value.lastName,""),e.xp6(4),e.Q6J("ngIf",!c.postData.isShared)("ngIfElse",v)}},directives:[t.yS,w.O5,g,w.mk,f._Y,f.JL,f.sg,f.Fj,f.JJ,f.u,h.g,w.sg],styles:[".overlay-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:0;transform:scale(0);z-index:70;height:100vh;width:100%;background-color:#5b618ab3}.overlay-wrapper.open[_ngcontent-%COMP%]{transform:scale(1)}.overlay-wrapper.open[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.overlay-wrapper[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(.3);background-color:#e8deeb;border-radius:1em;background-attachment:fixed;background-image:linear-gradient(180deg,#e8deeb 0%,#e3cce9 0%,#6e75a06e 0%,#e3cce9b5 83%,#e8deeb 100%);transition:all .3s ease-in-out}@media (max-width: 800px){.overlay-wrapper[_ngcontent-%COMP%]   .pop-up[_ngcontent-%COMP%]{width:90%}}.overlay-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;right:-1em;top:-1em;background-color:#5b618a;padding:1em;width:3.5rem;height:3.5rem;border-radius:50%;border:.2rem solid rgba(198,197,217,.5)}.overlay-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin:auto}@media (min-width: 1200px){.overlay-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%}}.comments[_ngcontent-%COMP%]{margin:0 1em 1em;padding-bottom:1em;border-top:2px solid #5B618A;display:none}.comments.show[_ngcontent-%COMP%]{display:block}.comments[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]{overflow:hidden;border-radius:.5rem;border:1px solid #5B618A;margin:1rem 0 1.5rem;display:flex;flex-direction:row;justify-content:space-between;align-items:stretch}.comments[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-size:1.2rem;padding:.6em 1em;color:#5b618a}.comments[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.comments[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#5b618a}.comments[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#5b618a}.comments[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:.5rem;border-left:1px solid #5B618A;background-color:#c6c5d9;font-weight:500;transition:all .3s ease-in-out}.comments[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e8deeb}.comments[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.7;pointer-events:none}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]{margin-top:1.5em;margin-bottom:1.5em}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{position:relative;background-color:#5b618a1a;padding:1em;border-radius:1em;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;gap:1em}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment__author-avatar[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:.8em;border:2px solid #5B618A;background-color:#e8deeb;overflow:hidden}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment__author-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;margin:auto;-o-object-fit:contain;object-fit:contain}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment__info[_ngcontent-%COMP%]{color:#5b618a}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment__info__author-name[_ngcontent-%COMP%]{font-weight:500;font-size:1.2rem;margin:0}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment__info__author-username[_ngcontent-%COMP%]{color:#5b618a;text-decoration:none;font-size:.96rem}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment__info__text[_ngcontent-%COMP%]{font-size:1.2rem;margin:.8em 0}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-options[_ngcontent-%COMP%]{position:absolute;right:.5em}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-options[_ngcontent-%COMP%]   .options-btn[_ngcontent-%COMP%]{background-color:transparent;padding:0;height:1.5rem}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-options[_ngcontent-%COMP%]   .options-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:inherit}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-options[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:none;min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content;position:absolute;z-index:40;right:0;top:100%;background-color:#fff;box-shadow:0 1px 10px #c6c5d9;border-radius:1em;padding:1em}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-options[_ngcontent-%COMP%]   .options.show[_ngcontent-%COMP%]{display:block}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-options[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background-color:transparent;color:#c11717;font-size:1.2rem;padding-left:2rem}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-options[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:before{content:url(delete.830a3c4f1cf04c37.svg);position:absolute;left:1em;top:50%;width:1.2em;height:1.2em;transform:translateY(-55%)}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment-reaction[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-end;gap:.3em}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment-reaction[_ngcontent-%COMP%]   .like-comment-btn[_ngcontent-%COMP%]{padding:0;width:1.5rem;height:1.5rem;background-color:transparent;color:transparent;transition:all .3s ease-in-out}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment-reaction[_ngcontent-%COMP%]   .like-comment-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment-reaction[_ngcontent-%COMP%]   .like-comment-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:inherit;width:inherit}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment-reaction[_ngcontent-%COMP%]   .like-comment-btn[_ngcontent-%COMP%]:hover{color:#5b618a80}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment-reaction[_ngcontent-%COMP%]   .like-comment-btn.liked[_ngcontent-%COMP%]{color:#5b618a}.comments[_ngcontent-%COMP%]   .comment-container[_ngcontent-%COMP%]   .comment-reaction[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#5b618a;font-size:1.32rem}.comments[_ngcontent-%COMP%]   .no-comments-yet[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5b618a;font-size:1.8rem;text-align:center;margin:1rem}.comments[_ngcontent-%COMP%]   .no-comments-yet[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:auto;padding-bottom:2rem}#delete-post-popup[_ngcontent-%COMP%]   .delete-post[_ngcontent-%COMP%]{max-width:350px;transform:translate(-50%,-100%) scale(1);padding:2rem}#delete-post-popup[_ngcontent-%COMP%]   .delete-post[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden}#delete-post-popup[_ngcontent-%COMP%]   .delete-post[_ngcontent-%COMP%]   p.delete[_ngcontent-%COMP%]{color:#c11717;font-size:1.44rem;margin:0}#delete-post-popup[_ngcontent-%COMP%]   .delete-post[_ngcontent-%COMP%]   p.description[_ngcontent-%COMP%]{color:#5b618a;font-size:1.32rem}#delete-post-popup[_ngcontent-%COMP%]   .delete-post[_ngcontent-%COMP%]   button#delete-btn[_ngcontent-%COMP%]{background-color:#5b618a;color:#e8deeb;font-size:1.2rem;padding:.5em 1em;border-radius:.5em;margin-left:auto;transition:all .3s ease-in-out}#delete-post-popup[_ngcontent-%COMP%]   .delete-post[_ngcontent-%COMP%]   button#delete-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}#share-post-popup[_ngcontent-%COMP%]{z-index:60}.share-post.pop-up[_ngcontent-%COMP%]{width:60vw;max-width:800px;max-height:90vh}.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]{overflow:auto;max-height:80vh}.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}@media (min-width: 800px){.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-top:1rem}}.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;border:2px solid #5B618A;border-radius:1em;background-color:#e8deeb;overflow:hidden}.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;margin:auto;-o-object-fit:contain;object-fit:contain}.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5b618a;font-weight:500;font-size:1.44rem;margin-left:1em}.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   #share-btn[_ngcontent-%COMP%]{display:block;margin:auto auto 2em;padding:.5em 1.5em;border-radius:.5em;background-color:#5b618a;color:#e8deeb;font-size:1.8rem;box-shadow:0 3px 9px #575d85ba;transition:all .3s ease-in-out}.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   #share-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .share-post-container[_ngcontent-%COMP%], .share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]{padding:0 .5rem}@media (min-width: 800px){.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .share-post-container[_ngcontent-%COMP%], .share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]{padding:0 3rem}}.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{max-width:100%;min-width:100%;min-height:100px;max-height:300px;font-size:1.2rem;background-color:transparent;border-radius:.5em;padding:1em;outline:none;border:none;color:#5b618a}.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#5b618a}.share-post.pop-up[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#5b618a}.shared-post[_ngcontent-%COMP%]{width:100%;background-color:#fff;border-radius:1em;margin-bottom:3rem;overflow:hidden}.shared-post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{margin:1em;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.shared-post[_ngcontent-%COMP%]   .post-author[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:1em}.shared-post[_ngcontent-%COMP%]   .post-author__avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:1em;border:2px solid #5B618A;background-color:#e8deeb;overflow:hidden}.shared-post[_ngcontent-%COMP%]   .post-author__avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;margin:auto;-o-object-fit:contain;object-fit:contain}.shared-post[_ngcontent-%COMP%]   .post-author__info[_ngcontent-%COMP%]{color:#5b618a}.shared-post[_ngcontent-%COMP%]   .post-author__info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;font-size:1.44rem;margin:0}.shared-post[_ngcontent-%COMP%]   .post-author__info[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#5b618a;text-decoration:none}.shared-post[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.shared-post[_ngcontent-%COMP%]   .post-text[_ngcontent-%COMP%]{margin:1rem;color:#5b618a;font-size:1.44rem;line-height:1.5;overflow:hidden}.shared-post[_ngcontent-%COMP%]   .post-text[_ngcontent-%COMP%]{padding-bottom:1rem}.post[_ngcontent-%COMP%]{width:70%;margin:2em auto;background-color:#fff;box-shadow:0 1px 10px #c6c5d9}@media (min-width: 800px){.post[_ngcontent-%COMP%]{border-radius:1em}}@media (max-width: 800px){.post[_ngcontent-%COMP%]{width:100%}}.post[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{margin:1em;padding-top:1em;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.post[_ngcontent-%COMP%]   .post-options[_ngcontent-%COMP%]{position:relative}.post[_ngcontent-%COMP%]   .post-options[_ngcontent-%COMP%]   .options-btn[_ngcontent-%COMP%]{background-color:transparent;padding:0;height:2rem}.post[_ngcontent-%COMP%]   .post-options[_ngcontent-%COMP%]   .options-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:inherit}.post[_ngcontent-%COMP%]   .post-options[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{display:none;min-width:200px;position:absolute;z-index:40;right:0;top:100%;background-color:#fff;box-shadow:0 1px 10px #c6c5d9;border-radius:1em;padding:1em}.post[_ngcontent-%COMP%]   .post-options[_ngcontent-%COMP%]   .options.show[_ngcontent-%COMP%]{display:block}.post[_ngcontent-%COMP%]   .post-options[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background-color:transparent;color:#c11717;font-size:1.32rem;padding-left:2rem}.post[_ngcontent-%COMP%]   .post-options[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:before{content:url(delete.830a3c4f1cf04c37.svg);position:absolute;left:.7em;top:50%;width:1.3em;height:1.3em;transform:translateY(-55%)}.post[_ngcontent-%COMP%]   .post-author[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:1em}.post[_ngcontent-%COMP%]   .post-author__avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:1em;border:2px solid #5B618A;background-color:#e8deeb;overflow:hidden}.post[_ngcontent-%COMP%]   .post-author__avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;margin:auto;-o-object-fit:contain;object-fit:contain}.post[_ngcontent-%COMP%]   .post-author__info[_ngcontent-%COMP%]{color:#5b618a}.post[_ngcontent-%COMP%]   .post-author__info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500;font-size:1.44rem;margin:0}.post[_ngcontent-%COMP%]   .post-author__info[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#5b618a;text-decoration:none}.post[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.post[_ngcontent-%COMP%]   .post-text[_ngcontent-%COMP%]{margin:1rem;color:#5b618a;font-size:1.44rem;line-height:1.5;overflow:hidden}.post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]{margin:1em 1em 0;gap:1em;padding-bottom:1em;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-end}.post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   .share-reaction[_ngcontent-%COMP%]{margin-left:auto}.post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .comment-btn[_ngcontent-%COMP%]{padding:0;width:2.5rem;height:2.5rem;background-color:transparent;color:transparent;transition:all .3s ease-in-out}.post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .comment-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .comment-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:inherit;width:inherit}.post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover, .post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .share-btn[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover, .post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .comment-btn[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover{color:#5b618a80}.post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .share-btn.liked[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .comment-btn.liked[_ngcontent-%COMP%], .post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .comment-btn[_ngcontent-%COMP%]{color:#5b618a}.post[_ngcontent-%COMP%]   .post-reactions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;-webkit-user-select:none;-moz-user-select:none;user-select:none;color:#5b618a;font-size:1.2rem;font-weight:500;margin:0 auto;text-align:center}.shared-post-container[_ngcontent-%COMP%]{margin:1em;background-color:#5b618a33;border-radius:.5rem;overflow:hidden}.shared-post-container[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{cursor:pointer;padding-top:0}.shared-post-container[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .shared-post-container[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:default}.shared-post-container[_ngcontent-%COMP%]   .post-text[_ngcontent-%COMP%]{padding-bottom:1rem}p.post-not-found[_ngcontent-%COMP%]{color:#5b618a;text-align:center;font-size:1.2rem;font-weight:500;background-color:#5b618a1a;padding:1em;margin:1rem;border-radius:1rem}"]}),r})()},6082:(N,k,p)=>{p.d(k,{L:()=>w});var f=p(520),e=p(4004),_=p(2340),t=p(1223),y=p(9760),T=p(2469);const M=new f.WM;M.append("content-type","application/json").append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Methods","GET,PUT,POST,DELETE,PATCH,OPTIONS");let w=(()=>{class O{constructor(g,h,Z){this.http=g,this.tokenStorageService=h,this.userInfoService=Z,this.url=`${_.N.apiUrl}/api/v1/users`}createPost(g){return this.http.post(`${this.url}/${this.userInfoService.myUserName.value}/posts`,g,{headers:M})}getPostById(g){return this.http.get(`${this.url}/${this.userInfoService.myUserName.value}/posts/${g}`).pipe((0,e.U)(h=>h.post))}getInitialPosts(g){return this.http.get(`${this.url}/${g}/posts`).pipe((0,e.U)(h=>h.posts))}getMorePosts(g,h){return this.http.get(`${this.url}/${g}/posts/morePosts/${h}`).pipe((0,e.U)(Z=>Z.posts))}getNewsfeed(){return this.http.get(`${_.N.apiUrl}/api/v1/newsFeed`).pipe((0,e.U)(g=>g.newsFeed))}classifyPostMedia(g){return{type:g[0].startsWith("https://res.cloudinary.com/elaraby/image")?"images":"video",files:g}}getIsLiked(g){return this.http.get(`${this.url}/${this.userInfoService.myUserName.value}/posts/${g}/isLiked`,{headers:M}).pipe((0,e.U)(h=>h.results))}like(g){this.http.put(`${this.url}/${this.userInfoService.myUserName.value}/posts/${g}/like`,null).subscribe()}unLike(g){this.http.delete(`${this.url}/${this.userInfoService.myUserName.value}/posts/${g}/like`).subscribe()}share(g,h){const Z=new f.WM;return Z.append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Methods","GET,PUT,POST,DELETE,PATCH,OPTIONS"),this.http.post(`${this.url}/${this.userInfoService.myUserName.value}/posts/${g}/share`,h,{headers:Z})}getLikes(g){return this.http.get(`${this.url}/${this.userInfoService.myUserName.value}/posts/${g}/likes`,{headers:M}).pipe((0,e.U)(h=>h.results.likes))}deletePost(g){return this.http.delete(`${this.url}/${this.userInfoService.myUserName.value}/posts/${g}`,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}})}addComment(g,h){return this.http.post(`${this.url}/${this.userInfoService.myUserName.value}/posts/${g}/comments`,{text:h},{headers:M})}getComments(g,h){return this.http.get(`${this.url}/${this.userInfoService.myUserName.value}/posts/${g}/comments?limit=1,${h}`,{headers:M}).pipe((0,e.U)(Z=>Z.comments))}likeComment(g,h){return this.http.put(`${this.url}/${this.userInfoService.myUserName.value}/posts/${g}/comments/${h}/like`,null,{headers:M})}unlikeComment(g,h){return this.http.delete(`${this.url}/${this.userInfoService.myUserName.value}/posts/${g}/comments/${h}/like`,{headers:M})}deleteComment(g,h){return this.http.delete(`${this.url}/${this.userInfoService.myUserName.value}/posts/${g}/comments/${h}`,{headers:M})}increaseNumberOfViews(g,h){this.http.post(`${this.url}/${g}/posts/${h}/views`,null,{headers:M}).subscribe()}}return O.\u0275fac=function(g){return new(g||O)(t.LFG(f.eN),t.LFG(y.i),t.LFG(T.$))},O.\u0275prov=t.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},5626:(N,k,p)=>{p.d(k,{a:()=>f});class f{constructor(_,t){this.postService=t,this.postData={postId:"",authorInfo:{userName:"",firstName:"",lastName:"",avatar:""},content:{text:"",media:{files:[],type:"images"}},numberOfComments:0,numberOfLikes:0,isShared:!1,sharedSource:{authorInfo:{userName:"",firstName:"",lastName:"",avatar:""},postId:"",content:{text:"",media:{type:"images",files:[]}},deleted:!1},isLiked:!0},this.preparePostData(_)}preparePostData(_){this.postData.postId=_._id,this.postData.authorInfo=_.authorInfo,this.postData.content.text=_.content.text,this.postData.content.media=_.content.files.length?this.postService.classifyPostMedia(_.content.files):{type:"noFiles",files:[]},this.postData.isShared=_.isShared,this.postData.numberOfLikes=_.numberOfLikes,this.postData.numberOfComments=_.numberOfComments,this.postData.isLiked=_.isLiked,_.isShared&&(this.postData.sharedSource.postId=_.sharedSource.postId,this.postData.sharedSource.authorInfo=_.sharedSource.authorInfo,this.postService.getPostById(_.sharedSource.postId).subscribe(t=>{this.postData.sharedSource.content.text=t.content.text,this.postData.sharedSource.content.media=t.content.files.length?this.postService.classifyPostMedia(t.content.files):{type:"noFiles",files:[]}},t=>{this.postData.sharedSource.deleted=!0}))}}},2071:(N,k,p)=>{function f(M,w,O,x,g,h,Z){try{var S=M[h](Z),I=S.value}catch(q){return void O(q)}S.done?w(I):Promise.resolve(I).then(x,g)}function e(M){return function(){var w=this,O=arguments;return new Promise(function(x,g){var h=M.apply(w,O);function Z(I){f(h,x,g,Z,S,"next",I)}function S(I){f(h,x,g,Z,S,"throw",I)}Z(void 0)})}}p.d(k,{D:()=>T});var _=p(1223),t=p(6082),y=p(2469);let T=(()=>{class M{constructor(O,x,g){this.el=O,this.postService=x,this.userInfoService=g,this.debounceTime=1e3,this.views=0}ngOnInit(){}ngAfterViewInit(){this.post=this.el.nativeElement,this.initIntersectionObserver(),this.observer.observe(this.post)}ngOnDestroy(){this.observer.disconnect()}increaseNumberOfViews(){this.postService.increaseNumberOfViews(this.userInfoService.myUserName.value,this.postId)}increaseNumberOfViewsIfStillVisible(){var O=this;setTimeout(e(function*(){(yield O.isVisible(O.post))&&O.increaseNumberOfViews()}),2e3)}initIntersectionObserver(){this.observer=new IntersectionObserver(x=>{x[0].isIntersecting&&this.increaseNumberOfViewsIfStillVisible()},{root:null,rootMargin:"0px",threshold:.5})}isVisible(O){return new Promise(x=>{const g=new IntersectionObserver(([h])=>{x(1===h.intersectionRatio),g.disconnect()});g.observe(O)})}}return M.\u0275fac=function(O){return new(O||M)(_.Y36(_.SBq),_.Y36(t.L),_.Y36(y.$))},M.\u0275dir=_.lG2({type:M,selectors:[["","appIncreasePostViews",""]],inputs:{postId:"postId"}}),M})()},9983:(N,k,p)=>{p.d(k,{i:()=>_});var f=p(8588),e=p(1223);let _=(()=>{class t{constructor(T){this.router=T,this.previousUrl="",this.currentUrl="",this.currentUrl=this.router.url,T.events.subscribe(M=>{M instanceof f.m2&&(this.previousUrl=this.currentUrl,this.currentUrl=M.url)})}getPreviousUrl(){return this.previousUrl}getCurrentUrl(){return this.currentUrl}}return t.\u0275fac=function(T){return new(T||t)(e.LFG(f.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);